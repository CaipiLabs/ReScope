{"version":3,"sources":["webpack:///webpack/bootstrap 8c598589a22cf578a7d7?b550","webpack:///./src/Rescope.js?4e27","webpack:///./src/Context.js?c0aa","webpack:///./~/is/index.js?1d42","webpack:///./src/Emitter.js?b3fa","webpack:///./~/shortid/index.js?5ae0","webpack:///./~/shortid/lib/index.js?00f7","webpack:///./~/shortid/lib/alphabet.js?cd47","webpack:///./~/shortid/lib/random/random-from-seed.js?547f","webpack:///./~/shortid/lib/encode.js?f2df","webpack:///./~/shortid/lib/random/random-byte-browser.js?6acb","webpack:///./~/shortid/lib/decode.js?7cfd","webpack:///./~/shortid/lib/build.js?6434","webpack:///./~/shortid/lib/is-valid.js?f445","webpack:///./~/shortid/lib/util/cluster-worker-id-browser.js?cb43","webpack:///./src/Store.js?6192","webpack:///./src/example/StoresContext.js?2569","webpack:///./src/example/_stubs/data.js?dda9","webpack:///./src/example/vanilla/NewsListComp.js","webpack:///./src/example/vanilla/index.html"],"names":["Store","Context","is","require","EventEmitter","shortid","__proto__push","target","id","parent","fn","prototype","openContexts","contexts","skey","array","sort","a","b","firstname","join","storesMap","state","data","name","defaultMaxListeners","persistenceTm","autoDestroy","_maxListeners","constructor","_id","generate","register","_isLocalId","_persistenceTm","stores","dead","Error","_addChild","sources","_childContexts","__retains","all","__locks","__listening","__context","__mixed","__mixedList","_followers","retain","_stable","wait","on","__parentList","release","_propag","setTimeout","dispose","storesList","forEach","_mount","k","arguments","store","reduce","mounted","ctx","undefined","setState","push","_watchStore","isStable","propag","targetCtx","lists","relink","Object","keys","singleton","srcCtx","external","force","lctx","_stores","console","info","__proto__","defineProperty","get","_state","set","v","_data","obj","key","as","setInitial","lastRevs","reKey","map","string","revs","mount","getUpdates","followers","i","length","splice","to","bind","mixedCWUnmount","unMountKey","isReactComponent","hasOwnProperty","unBind","split","retrieve","path","storesRevMap","local","_rev","updated","getStoresRevs","output","flags_states","flags_data","_flags_states","_flags_data","flags","r","flag","test","action","trigger","dispatch","cb","once","quiet","reason","emit","error","_stabilizerTM","clearTimeout","_propagTM","childs","_getAllChilds","indexOf","_destroyTM","then","destroy","removeListener","shift","_rmChild","context","Emitter","_events","evt","un","argz","objProto","getPrototypeOf","_static","getContext","staticContext","cfg","watchs","use","apply","initialState","_uid","_onStabilize","warn","contextObj","_revs","_require","_use","ref","match","ref2","shouldApply","nDatas","cDatas","isComplete","follow","call","changes","refine","_stabilizer","stable","actions","ns","doWait","origin","initialOutputs","s","nextState","_changesSW","nextDatas","shouldPropag","pState","sync","change","stabilize","me","from","pull","previous","wasStable","follower","removeAllListeners","groupCollapsed","log","stack","groupEnd","component","targetRevs","targetContext","filter","alias","defaultName","slice","stubs","status","userEvents","msg","currentUser","MyStoreContext","appState","currentUserId","NewUserId","LastUserId","login","JSON","stringify","myUserId","cUserId","userId","count","events","eventsByType","res","item","type","text","NewsListComp","document","createElement","innerHTML","node","window","Rescope","StoreContext"],"mappings":"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AAEA,oCAAmC,EAAE,iBAAiB,EAAE,eAAe,EAAE,gBAAgB,EAAE;AAC3F;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAC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;mBA/CgBmB,O;;;;;;;;ACbrB;AACA;;;;;;;;ACDA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjGA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACxBA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AClBA;;AAEA,+EAA8E;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACbA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;A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","file":"example/vanilla/NewsListComp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c598589a22cf578a7d7","/*\n * Copyright (c)  2017 Caipi Labs .\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Context from \"./Context\";\nimport Store from \"./Store\";\n\nContext.Store = Store;\n\nexport default {Store, Context};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/Rescope.js","/*\n * Copyright (c)  2017 Caipi Labs .\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * @author : Nathanael Braun\n * @contact : caipilabs@gmail.com\n */\n\n\nvar is              = require('is'),\n    EventEmitter    = require('./Emitter'),\n    shortid         = require('shortid')\n    , __proto__push = ( target, id, parent ) => {\n        let fn           = function () {\n        };\n        fn.prototype     = parent ? new parent[\"_\" + id]() : target[id] || {};\n        target[id]       = new fn();\n        target['_' + id] = fn;\n    },\n    openContexts    = {};\n\n\nexport default class Context extends EventEmitter {\n    static persistenceTm = 1;// if > 0, will wait 'persistenceTm' ms before destroy when dispose reach 0\n    static Store         = null;\n    static contexts      = openContexts;// all active contexts\n    \n    static getContext( contexts ) {\n        let skey = is.array(contexts) ? contexts.sort(( a, b ) => {\n            if ( a.firstname < b.firstname ) return -1;\n            if ( a.firstname > b.firstname ) return 1;\n            return 0;\n        }).join('::') : contexts;\n        return openContexts[skey] = openContexts[skey] || new Context({}, { id: skey });\n    };\n    \n    /**\n     * Init a Rescope context\n     *\n     * @param storesMap {Object} Object with the origin stores\n     * @param id {string} @optional id ( if this id exist storesMap will be merge on the 'id' context)\n     * @param parent\n     * @param state\n     * @param data\n     * @param name\n     * @param defaultMaxListeners\n     * @param persistenceTm {number) if > 0, will wait 'persistenceTm' ms before destroy when dispose reach 0\n     * @param autoDestroy  {bool} will trigger retain & dispose after start\n     * @returns {Context}\n     */\n    constructor( storesMap, { id, parent, state, data, name, defaultMaxListeners, persistenceTm, autoDestroy } = {} ) {\n        super();\n        \n        this._maxListeners = defaultMaxListeners || this.constructor.defaultMaxListeners;\n        this._id           = id = id || (\"_____\" + shortid.generate());\n        \n        if ( openContexts[id] ) {\n            openContexts[id].register(storesMap);\n            return openContexts[id]\n        }\n        \n        openContexts[id]    = this;\n        this._isLocalId     = true;\n        this._persistenceTm = persistenceTm || this.constructor.persistenceTm;\n        \n        this.stores = {};\n        this.state  = {};\n        this.data   = {};\n        \n        if ( parent && parent.dead )\n            throw new Error(\"Can't use a dead context as parent !\");\n        \n        __proto__push(this, 'stores', parent);\n        __proto__push(this, 'state', parent);\n        __proto__push(this, 'data', parent);\n        this.parent = parent;\n        \n        if ( parent ) {\n            parent._addChild(this);\n            \n        }\n        \n        this.sources        = [];\n        this._childContexts = [];\n        \n        this.__retains   = { all: 0 };\n        this.__locks     = { all: 1 };\n        this.__listening = {};\n        this.__context   = {};\n        this.__mixed     = [];\n        this.__mixedList = [];\n        this._followers  = [];\n        if ( parent ) {\n            parent.retain(\"isMyParent\");\n            !parent._stable && this.wait(\"waitingParent\");\n            parent.on(this.__parentList = {\n                'stable'  : s => this.release(\"waitingParent\"),\n                'unstable': s => this.wait(\"waitingParent\"),\n                'update'  : s => this._propag()\n            });\n            // this.register(parent.__context, state, data);\n        }\n        \n        \n        this.register(storesMap, state, data);\n        this.__locks.all--;\n        this._stable = !this.__locks.all;\n        \n        if ( autoDestroy )\n            setTimeout(\n                tm => {\n                    this.retain(\"autoDestroy\");\n                    this.dispose(\"autoDestroy\");\n                }\n            )\n    }\n    \n    /**\n     * @deprecated\n     * @returns {*}\n     */\n    get datas() {\n        return this.data;\n    }\n    \n    /**\n     *\n     * Mount the stores in storesList, in this context or in its parents or mixed contexts\n     *\n     * @param storesList {string|storeRef} Store name, Array of Store names, or Rescope store ref from Store::as or\n     *     Store:as\n     * @param state\n     * @param data\n     * @returns {Context}\n     */\n    mount( storesList, state, data ) {\n        if ( is.array(storesList) ) {\n            storesList.forEach(k => this._mount(k, state && state[k], data && data[k]));\n        }\n        else {\n            this._mount(...arguments);\n        }\n        return this;\n    }\n    \n    _mount( id, state, data ) {\n        if ( typeof id !== 'string' ) {\n            this.register({ [id.name]: id.store });\n            id = id.name;\n        }\n        \n        if ( !this.__context[id] ) {//ask mixed || parent\n            if ( this.__mixed.reduce(( mounted, ctx ) => (mounted || ctx._mount(id, state, data)), false) ||\n                !this.parent )\n                return;\n            return this.parent._mount(...arguments);\n        }\n        let store = this.__context[id], ctx;\n        if ( is.fn(store) ) {\n            this.__context[id] = new store(this, { state, data });\n        }\n        else {\n            if ( state !== undefined && data === undefined )\n                store.setState(state);\n            else if ( state !== undefined )\n                store.state = state;\n            \n            if ( data !== undefined )\n                store.push(data);\n        }\n        \n        \n        this._watchStore(id);\n        \n        return this.__context[id];\n    }\n    \n    _watchStore( id, state, data ) {\n        if ( !this.__context[id] ) {//ask mixed || parent\n            if ( this.__mixed.reduce(( mounted, ctx ) => (mounted || ctx._watchStore(id, state, data)), false) ||\n                !this.parent )\n                return;\n            return this.parent._watchStore(...arguments);\n        }\n        if ( !this.__listening[id] && !is.fn(this.__context[id]) ) {\n            !this.__context[id].isStable() && this.wait(id);\n            this.__context[id].on(\n                this.__listening[id] = {\n                    'destroy' : s => {\n                        delete this.__listening[id];\n                        this.__context[id] = this.__context[id].constructor;\n                    },\n                    'update'  : s => this.propag(),\n                    'stable'  : s => this.release(id),\n                    'unstable': s => this.wait(id)\n                });\n        }\n        return true;\n    }\n    \n    /**\n     * Mix targetCtx on this context\n     * Mixed context parents are NOT mapped\n     * @param targetCtx\n     */\n    mixin( targetCtx ) {\n        let parent = this.parent, lists;\n        this.__mixed.push(targetCtx)\n        targetCtx.retain(\"mixedTo\");\n        if ( !targetCtx._stable )\n            this.wait(targetCtx._id);\n        \n        this.__mixedList.push(lists = {\n            'stable'  : s => this.release(targetCtx._id),\n            'unstable': s => this.wait(targetCtx._id),\n            'update'  : s => this._propag()\n        });\n        \n        this.stores = {};\n        this.state  = {};\n        this.data   = {};\n        targetCtx.on(lists);\n        __proto__push(this, 'stores', parent);\n        __proto__push(this, 'state', parent);\n        __proto__push(this, 'data', parent);\n        \n        this.relink(this.__context, this, false, true);\n        this.__mixed.forEach(\n            ctx => {\n                __proto__push(this, 'stores');\n                __proto__push(this, 'state');\n                __proto__push(this, 'data');\n                ctx.relink(ctx.__context, this, true, true)\n            }\n        )\n    }\n    \n    /**\n     * Register stores in storesMap & link them in the protos\n     * @param storesMap\n     * @param state\n     * @param data\n     */\n    register( storesMap, state = {}, data = {} ) {\n        this.relink(storesMap, this, false, false, state, data);\n        Object.keys(storesMap).forEach(\n            id => {\n                if ( is.fn(storesMap[id]) ) {\n                    storesMap[id].singleton && this._mount(id, state[id], data[id])\n                }\n                else {\n                    this._watchStore(id);\n                }\n            }\n        )\n        \n    }\n    \n    /**\n     * Map srcCtx store's on targetCtx headers proto's\n     * @param srcCtx\n     * @param targetCtx\n     * @param state\n     * @param data\n     */\n    relink( srcCtx, targetCtx = this, external, force, state = {}, data = {} ) {\n        let lctx = targetCtx._stores.prototype;\n        Object.keys(srcCtx)\n              .forEach(\n                  id => {\n                      if ( !force && targetCtx.__context[id] === srcCtx[id] ||\n                          targetCtx.__context[id] && (targetCtx.__context[id].constructor === srcCtx[id] ) )\n                          return;\n                \n                      if ( !force && targetCtx.__context[id] ) {\n                          if ( !external && !is.fn(targetCtx.__context[id]) ) {\n                              console.info(\"Rescope Store : \", id, \" already exist in this context ! ( try __proto__ hot patch )\");\n                              targetCtx.__context[id].__proto__ = srcCtx[id].prototype;\n                        \n                          }\n                          if ( !external && is.fn(targetCtx.__context[id]) )\n                              targetCtx.__context[id] = srcCtx[id];\n                    \n                          return;\n                      }\n                      else if ( !force && !external )\n                          this.__context[id] = srcCtx[id];\n                \n                      Object.defineProperty(\n                          lctx,\n                          id,\n                          {\n                              get: () => this.__context[id]\n                          }\n                      );\n                      Object.defineProperty(\n                          targetCtx._state.prototype,\n                          id,\n                          {\n                              get: () => (this.__context[id] && this.__context[id].state),\n                              set: ( v ) => (this._mount(id, v))\n                          }\n                      );\n                      Object.defineProperty(\n                          targetCtx._data.prototype,\n                          id,\n                          {\n                              get: () => (this.__context[id] && this.__context[id].data),\n                              set: ( v ) => (this._mount(id, undefined, v))\n                          }\n                      );\n                  }\n              )\n    }\n    \n    /**\n     * Bind stores from this context, his parents and mixed context\n     *\n     * @param obj {React.Component|Store|function}\n     * @param key {string*} stores keys to bind updates\n     * @param as\n     * @param setInitial=true {bool} false to not propag initial value\n     */\n    bind( obj, key, as, setInitial = true ) {\n        let lastRevs, data, reKey;\n        if ( key && !is.array(key) )\n            key = [key];\n        \n        if ( as === false || as === true ) {\n            setInitial = as;\n            as         = null;\n        }\n        \n        reKey = key.map(id => (is.string(id) ? id : id.name));\n        \n        this._followers.push(\n            [\n                obj,\n                key,\n                as || undefined,\n                lastRevs = reKey && reKey.reduce(( revs, id ) => (revs[id] = 0, revs), {})\n            ]);\n        \n        this.mount(key);\n        \n        if ( setInitial && this._stable ) {\n            data = this.getUpdates(lastRevs);\n            if ( !data ) return;\n            if ( typeof obj != \"function\" ) {\n                if ( as ) obj.setState({ [as]: data });\n                else obj.setState(data);\n            }\n            else {\n                obj(data);\n            }\n        }\n        return this;\n    }\n    \n    /**\n     * Un bind this context off the given component-keys\n     * @param obj\n     * @param key\n     * @returns {Array.<*>}\n     */\n    unBind( obj, key, as ) {\n        var followers = this._followers,\n            i         = followers && followers.length;\n        while ( followers && i-- )\n            if ( followers[i][0] === obj && ('' + followers[i][1]) == ('' + key) &&\n                followers[i][2] == as )\n                return followers.splice(i, 1);\n    }\n    \n    /**\n     * Mount the stores in storesList from this context, its parents and mixed context\n     * Bind them to 'to'\n     * Hook 'to' so it will auto unbind on 'destroy' or 'componentWillUnmount'\n     * @param to\n     * @param storesList\n     * @param bind\n     * @returns {Object} Initial outputs of the stores in 'storesList'\n     */\n    map( to, storesList, bind = true ) {\n        let Store  = this.constructor.Store;\n        storesList = is.array(storesList) ? storesList : [storesList];\n        this.mount(storesList);\n        if ( bind && to instanceof Store ) {\n            Store.map(to, storesList, this, this, false)\n        }\n        else if ( bind ) {\n            this.bind(to, storesList, undefined, false);\n            \n            let mixedCWUnmount,\n                unMountKey = to.isReactComponent ? \"componentWillUnmount\" : \"destroy\";\n            \n            if ( to.hasOwnProperty(unMountKey) ) {\n                mixedCWUnmount = to[unMountKey];\n            }\n            \n            to[unMountKey] = ( ...argz ) => {\n                delete to[unMountKey];\n                if ( mixedCWUnmount )\n                    to[unMountKey] = mixedCWUnmount;\n                \n                this.unBind(to, storesList);\n                return to[unMountKey] && to[unMountKey](...argz);\n            }\n            \n        }\n        return storesList.reduce(( data, id ) => {\n            if ( !is.string(id) )\n                id = id.name;\n            id                                     = id.split(':');\n            id[0]                                  = id[0].split('.');\n            data[id[1] || id[0][id[0].length - 1]] = this.stores[id[0][0]] && this.stores[id[0][0]].retrieve(id[0].splice(1));\n            return data;\n        }, {});\n    }\n    \n    retrieve( path = \"\" ) {\n        path = is.string(path) ? path.split('.') : path;\n        return path && this.stores[path[0]] &&\n            this.stores[path[0]].retrieve(path.splice(1));\n    }\n    \n    /**\n     * Get or update storesRevMap's revisions\n     * @param storesRevMap\n     * @param local\n     * @returns {{}}\n     */\n    getStoresRevs( storesRevMap = {}, local ) {\n        let ctx = this.__context;\n        if ( !storesRevMap ) {\n            storesRevMap = {};\n        }\n        Object.keys(ctx).forEach(\n            id => {\n                if ( !is.fn(ctx[id])\n                ) {\n                    storesRevMap[id] = ctx[id]._rev;\n                }\n                else if ( !storesRevMap.hasOwnProperty(id) )\n                    storesRevMap[id] = false\n            }\n        );\n        if ( !local ) {\n            this.__mixed.reduce(( updated, ctx ) => (ctx.getStoresRevs(storesRevMap), storesRevMap), storesRevMap);\n            this.parent && this.parent.getStoresRevs(storesRevMap);\n        }\n        return storesRevMap;\n    }\n    \n    /**\n     * Get or update output basing storesRevMap's revisions.\n     * If a store in 'storesRevMap' is updated; add it to 'output'\n     * @param storesRevMap\n     * @param output\n     * @param updated\n     * @returns {*|{}}\n     */\n    getUpdates( storesRevMap, output, updated ) {\n        let ctx = this.__context;\n        \n        output = output || {};\n        Object.keys(ctx).forEach(\n            id => {\n                if ( !output[id]\n                    && ( !storesRevMap\n                        || (storesRevMap.hasOwnProperty(id) && storesRevMap[id] === undefined)\n                        || !( !storesRevMap.hasOwnProperty(id) || ctx[id]._rev <= storesRevMap[id] ))\n                ) {\n                    \n                    updated    = true;\n                    output[id] = this.data[id];\n                    if ( storesRevMap && storesRevMap[id] !== undefined )\n                        storesRevMap[id] = ctx[id]._rev;\n                    \n                }\n            }\n        );\n        updated = this.__mixed.reduce(( updated, ctx ) => (ctx.getUpdates(storesRevMap, output, updated) || updated), updated);\n        updated = this.parent && this.parent.getUpdates(storesRevMap, output, updated) || updated;\n        return updated && output;\n    }\n    \n    /**\n     *\n     * @param flags_states\n     * @param flags_data\n     * @returns {{state: {}, data: {}}}\n     */\n    serialize( flags_states = /.*/, flags_data = /.*/ ) {\n        let ctx = this.__context, output = { state: {}, data: {} },\n            _flags_states,\n            _flags_data;\n        if ( is.array(flags_states) )\n            flags_states.forEach(id => (output.state[id] = this.state[id]));\n        \n        if ( is.array(flags_data) )\n            flags_data.forEach(id => (output.data[id] = this.data[id]));\n        \n        if ( !is.array(flags_data) && !is.array(flags_states) )\n            Object.keys(ctx).forEach(\n                id => {\n                    if ( is.fn(ctx[id]) )\n                        return;\n                    \n                    let flags = ctx[id].constructor.flags;\n                    \n                    flags = is.array(flags) ? flags : [flags || \"\"];\n                    \n                    if ( flags.reduce(( r, flag ) => (r || _flags_states.test(flag)), false) )\n                        output.state[id] = this.state[id];\n                    \n                    if ( flags.reduce(( r, flag ) => (r || _flags_data.test(flag)), false) )\n                        output.data[id] = this.data[id];\n                }\n            )\n        return output;\n    }\n    \n    dispatch( action, data ) {\n        Object.keys(this.__context)\n              .forEach(\n                  id => {\n                      if ( !is.fn(this.__context[id]) )\n                          this.__context[id].trigger(action, data)\n                  }\n              );\n        \n        this.__mixed.forEach(( ctx ) => (ctx.dispatch(action, data)));\n        this.parent && this.parent.dispatch(action, data);\n        return this;\n    }\n    \n    /**\n     * once('stable', cb)\n     * @param obj {React.Component|Store|function)\n     * @param key {string} optional key where to map the public state\n     */\n    then( cb ) {\n        if ( this._stable )\n            return cb(null, this.data);\n        this.once('stable', e => cb(null, this.data));\n    }\n    \n    restore( { state, data }, quiet ) {\n        let ctx = this.__context;\n        Object.keys(data).forEach(\n            id => {\n                quiet ? ctx.data = data[id]\n                    : ctx.push(data[id]);\n            }\n        );\n        Object.keys(state).forEach(\n            id => {\n                quiet ? ctx.state = state[id]\n                    : ctx.setState(state[id]);\n            }\n        );\n    }\n    \n    retainStores( stores = [], reason ) {\n        stores.forEach(\n            id => (this.stores[id] && this.stores[id].retain && this.stores[id].retain(reason))\n        )\n    }\n    \n    disposeStores( stores = [], reason ) {\n        stores.forEach(\n            id => (this.stores[id] && this.stores[id].dispose && this.stores[id].dispose(reason))\n        )\n    }\n    \n    wait( reason ) {\n        //console.log(\"wait\", reason);\n        this._stable && !this.__locks.all && this.emit(\"unstable\", this);\n        this._stable = false;\n        this.__locks.all++;\n        if ( reason ) {\n            this.__locks[reason] = this.__locks[reason] || 0;\n            this.__locks[reason]++;\n        }\n    }\n    \n    release( reason ) {\n        \n        if ( reason ) {\n            if ( this.__locks[reason] == 0 )\n                console.error(\"Release more than locking !\", reason);\n            this.__locks[reason] = this.__locks[reason] || 0;\n            this.__locks[reason]--;\n        }\n        if ( !reason && this.__locks.all == 0 )\n            console.error(\"Release more than locking !\");\n        \n        this.__locks.all--;\n        if ( !this.__locks.all ) {\n            this._stabilizerTM && clearTimeout(this._stabilizerTM);\n            \n            this._stabilizerTM = setTimeout(\n                e => {\n                    this._stabilizerTM = null;\n                    if ( this.__locks.all )\n                        return;\n                    \n                    this._propagTM && clearTimeout(this._propagTM);\n                    \n                    this._stable = true;\n                    this.emit(\"stable\", this);\n                    \n                    !this.dead && this._propag();// stability can induce destroy\n                }\n            );\n        }\n        \n    }\n    \n    propag() {\n        this._propagTM && clearTimeout(this._propagTM);\n        this._propagTM = setTimeout(\n            e => {\n                this._propagTM = null;\n                this._propag()\n            }, 2\n        );\n    }\n    \n    _propag() {\n        if ( this._followers.length )\n            this._followers.forEach(( { 0: obj, 1: key, 2: as, 3: lastRevs } ) => {\n                let data = this.getUpdates(lastRevs);\n                if ( !data ) return;\n                if ( typeof obj != \"function\" ) {\n                    if ( as ) obj.setState({ [as]: data });\n                    else obj.setState(data);\n                }\n                else {\n                    obj(data, lastRevs && [...lastRevs] || \"no revs\");\n                }\n                // lastRevs &&\n                // key.forEach(id => (lastRevs[id] = this.stores[id] && this.stores[id]._rev || 0));\n            });\n        this.emit(\"update\", this.getUpdates());\n    }\n    \n    /**\n     * is stable\n     * @returns bool\n     */\n    isStable() {\n        return this._stable;\n    }\n    \n    _getAllChilds( childs = [] ) {\n        childs.push(...this._childContexts)\n        this._childContexts.forEach(\n            ctx => {\n                ctx._getAllChilds(childs);\n            }\n        );\n        return childs;\n    }\n    \n    _addChild( ctx ) {\n        this._childContexts.push(ctx);\n    }\n    \n    _rmChild( ctx ) {\n        let i = this._childContexts.indexOf(ctx);\n        if ( i != -1 )\n            this._childContexts.splice(i, 1);\n    }\n    \n    retain( reason ) {\n        this.__retains.all++;\n        //console.log(\"retain\", this._id, reason);\n        if ( reason ) {\n            this.__retains[reason] = this.__retains[reason] || 0;\n            this.__retains[reason]++;\n        }\n    }\n    \n    dispose( reason ) {\n        //console.log(\"dispose\", this._id, reason);\n        if ( reason ) {\n            \n            if ( this.__retains[reason] == 0 )\n                throw new Error(\"Dispose more than retaining !\");\n            \n            this.__retains[reason] = this.__retains[reason] || 0;\n            this.__retains[reason]--;\n        }\n        \n        if ( this.__retains.all == 0 )\n            throw new Error(\"Dispose more than retaining !\");\n        \n        this.__retains.all--;\n        \n        if ( !this.__retains.all ) {\n            //console.log(\"dispose do destroy \", this._id, this._persistenceTm);\n            if ( this._persistenceTm ) {\n                this._destroyTM && clearTimeout(this._destroyTM);\n                this._destroyTM = setTimeout(\n                    e => {\n                        this.then(s => {\n                            !this.__retains.all && this.destroy()\n                        });\n                    },\n                    this._persistenceTm\n                );\n            }\n            else {\n                this.then(s => (!this.__retains.all && this.destroy()));\n            }\n        }\n    }\n    \n    /**\n     * order destroy of local stores\n     */\n    destroy() {\n        let ctx   = this.__context;\n        //console.warn(\"destroy\", this._id);\n        this.dead = true;\n        this.emit(\"destroy\");\n        Object.keys(\n            this.__listening\n        ).forEach(\n            id => this.__context[id].removeListener(this.__listening[id])\n        );\n        \n        this._stabilizerTM && clearTimeout(this._stabilizerTM);\n        this._propagTM && clearTimeout(this._propagTM);\n        this.__listening = {};\n        \n        if ( this._isLocalId )\n            delete openContexts[this._id];\n        this._followers.length = 0;\n        \n        while ( this.__mixedList.length ) {\n            this.__mixed[0].removeListener(this.__mixedList.shift());\n            this.__mixed.shift().dispose(\"mixedTo\");\n        }\n        if ( this.__parentList ) {\n            this.parent._rmChild(this);\n            this.parent.removeListener(this.__parentList);\n            this.parent.dispose(\"isMyParent\");\n            this.__parentList = null;\n        }\n        //for ( let key in ctx )\n        //    if ( !is.fn(ctx[key]) ) {\n        //        if ( ctx[key].contextObj === this )\n        //            ctx[key].dispose();\n        //\n        //        ctx[key] = ctx[key].constructor;\n        //    }\n        this.__mixed = this.data = this.state = this.context = this.stores = null;\n        this._data = this._state = this._stores = null;\n        \n        \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Context.js","/* globals window, HTMLElement */\n\n'use strict';\n\n/**!\n * is\n * the definitive JavaScript type testing library\n *\n * @copyright 2013-2014 Enrico Marino / Jordan Harband\n * @license MIT\n */\n\nvar objProto = Object.prototype;\nvar owns = objProto.hasOwnProperty;\nvar toStr = objProto.toString;\nvar symbolValueOf;\nif (typeof Symbol === 'function') {\n  symbolValueOf = Symbol.prototype.valueOf;\n}\nvar isActualNaN = function (value) {\n  return value !== value;\n};\nvar NON_HOST_TYPES = {\n  'boolean': 1,\n  number: 1,\n  string: 1,\n  undefined: 1\n};\n\nvar base64Regex = /^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;\nvar hexRegex = /^[A-Fa-f0-9]+$/;\n\n/**\n * Expose `is`\n */\n\nvar is = {};\n\n/**\n * Test general.\n */\n\n/**\n * is.type\n * Test if `value` is a type of `type`.\n *\n * @param {Mixed} value value to test\n * @param {String} type type\n * @return {Boolean} true if `value` is a type of `type`, false otherwise\n * @api public\n */\n\nis.a = is.type = function (value, type) {\n  return typeof value === type;\n};\n\n/**\n * is.defined\n * Test if `value` is defined.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is defined, false otherwise\n * @api public\n */\n\nis.defined = function (value) {\n  return typeof value !== 'undefined';\n};\n\n/**\n * is.empty\n * Test if `value` is empty.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is empty, false otherwise\n * @api public\n */\n\nis.empty = function (value) {\n  var type = toStr.call(value);\n  var key;\n\n  if (type === '[object Array]' || type === '[object Arguments]' || type === '[object String]') {\n    return value.length === 0;\n  }\n\n  if (type === '[object Object]') {\n    for (key in value) {\n      if (owns.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  return !value;\n};\n\n/**\n * is.equal\n * Test if `value` is equal to `other`.\n *\n * @param {Mixed} value value to test\n * @param {Mixed} other value to compare with\n * @return {Boolean} true if `value` is equal to `other`, false otherwise\n */\n\nis.equal = function equal(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  var type = toStr.call(value);\n  var key;\n\n  if (type !== toStr.call(other)) {\n    return false;\n  }\n\n  if (type === '[object Object]') {\n    for (key in value) {\n      if (!is.equal(value[key], other[key]) || !(key in other)) {\n        return false;\n      }\n    }\n    for (key in other) {\n      if (!is.equal(value[key], other[key]) || !(key in value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (type === '[object Array]') {\n    key = value.length;\n    if (key !== other.length) {\n      return false;\n    }\n    while (key--) {\n      if (!is.equal(value[key], other[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (type === '[object Function]') {\n    return value.prototype === other.prototype;\n  }\n\n  if (type === '[object Date]') {\n    return value.getTime() === other.getTime();\n  }\n\n  return false;\n};\n\n/**\n * is.hosted\n * Test if `value` is hosted by `host`.\n *\n * @param {Mixed} value to test\n * @param {Mixed} host host to test with\n * @return {Boolean} true if `value` is hosted by `host`, false otherwise\n * @api public\n */\n\nis.hosted = function (value, host) {\n  var type = typeof host[value];\n  return type === 'object' ? !!host[value] : !NON_HOST_TYPES[type];\n};\n\n/**\n * is.instance\n * Test if `value` is an instance of `constructor`.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an instance of `constructor`\n * @api public\n */\n\nis.instance = is['instanceof'] = function (value, constructor) {\n  return value instanceof constructor;\n};\n\n/**\n * is.nil / is.null\n * Test if `value` is null.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is null, false otherwise\n * @api public\n */\n\nis.nil = is['null'] = function (value) {\n  return value === null;\n};\n\n/**\n * is.undef / is.undefined\n * Test if `value` is undefined.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is undefined, false otherwise\n * @api public\n */\n\nis.undef = is.undefined = function (value) {\n  return typeof value === 'undefined';\n};\n\n/**\n * Test arguments.\n */\n\n/**\n * is.args\n * Test if `value` is an arguments object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.args = is.arguments = function (value) {\n  var isStandardArguments = toStr.call(value) === '[object Arguments]';\n  var isOldArguments = !is.array(value) && is.arraylike(value) && is.object(value) && is.fn(value.callee);\n  return isStandardArguments || isOldArguments;\n};\n\n/**\n * Test array.\n */\n\n/**\n * is.array\n * Test if 'value' is an array.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an array, false otherwise\n * @api public\n */\n\nis.array = Array.isArray || function (value) {\n  return toStr.call(value) === '[object Array]';\n};\n\n/**\n * is.arguments.empty\n * Test if `value` is an empty arguments object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an empty arguments object, false otherwise\n * @api public\n */\nis.args.empty = function (value) {\n  return is.args(value) && value.length === 0;\n};\n\n/**\n * is.array.empty\n * Test if `value` is an empty array.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an empty array, false otherwise\n * @api public\n */\nis.array.empty = function (value) {\n  return is.array(value) && value.length === 0;\n};\n\n/**\n * is.arraylike\n * Test if `value` is an arraylike object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.arraylike = function (value) {\n  return !!value && !is.bool(value)\n    && owns.call(value, 'length')\n    && isFinite(value.length)\n    && is.number(value.length)\n    && value.length >= 0;\n};\n\n/**\n * Test boolean.\n */\n\n/**\n * is.bool\n * Test if `value` is a boolean.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a boolean, false otherwise\n * @api public\n */\n\nis.bool = is['boolean'] = function (value) {\n  return toStr.call(value) === '[object Boolean]';\n};\n\n/**\n * is.false\n * Test if `value` is false.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is false, false otherwise\n * @api public\n */\n\nis['false'] = function (value) {\n  return is.bool(value) && Boolean(Number(value)) === false;\n};\n\n/**\n * is.true\n * Test if `value` is true.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is true, false otherwise\n * @api public\n */\n\nis['true'] = function (value) {\n  return is.bool(value) && Boolean(Number(value)) === true;\n};\n\n/**\n * Test date.\n */\n\n/**\n * is.date\n * Test if `value` is a date.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a date, false otherwise\n * @api public\n */\n\nis.date = function (value) {\n  return toStr.call(value) === '[object Date]';\n};\n\n/**\n * is.date.valid\n * Test if `value` is a valid date.\n *\n * @param {Mixed} value value to test\n * @returns {Boolean} true if `value` is a valid date, false otherwise\n */\nis.date.valid = function (value) {\n  return is.date(value) && !isNaN(Number(value));\n};\n\n/**\n * Test element.\n */\n\n/**\n * is.element\n * Test if `value` is an html element.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an HTML Element, false otherwise\n * @api public\n */\n\nis.element = function (value) {\n  return value !== undefined\n    && typeof HTMLElement !== 'undefined'\n    && value instanceof HTMLElement\n    && value.nodeType === 1;\n};\n\n/**\n * Test error.\n */\n\n/**\n * is.error\n * Test if `value` is an error object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an error object, false otherwise\n * @api public\n */\n\nis.error = function (value) {\n  return toStr.call(value) === '[object Error]';\n};\n\n/**\n * Test function.\n */\n\n/**\n * is.fn / is.function (deprecated)\n * Test if `value` is a function.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a function, false otherwise\n * @api public\n */\n\nis.fn = is['function'] = function (value) {\n  var isAlert = typeof window !== 'undefined' && value === window.alert;\n  if (isAlert) {\n    return true;\n  }\n  var str = toStr.call(value);\n  return str === '[object Function]' || str === '[object GeneratorFunction]' || str === '[object AsyncFunction]';\n};\n\n/**\n * Test number.\n */\n\n/**\n * is.number\n * Test if `value` is a number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a number, false otherwise\n * @api public\n */\n\nis.number = function (value) {\n  return toStr.call(value) === '[object Number]';\n};\n\n/**\n * is.infinite\n * Test if `value` is positive or negative infinity.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is positive or negative Infinity, false otherwise\n * @api public\n */\nis.infinite = function (value) {\n  return value === Infinity || value === -Infinity;\n};\n\n/**\n * is.decimal\n * Test if `value` is a decimal number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a decimal number, false otherwise\n * @api public\n */\n\nis.decimal = function (value) {\n  return is.number(value) && !isActualNaN(value) && !is.infinite(value) && value % 1 !== 0;\n};\n\n/**\n * is.divisibleBy\n * Test if `value` is divisible by `n`.\n *\n * @param {Number} value value to test\n * @param {Number} n dividend\n * @return {Boolean} true if `value` is divisible by `n`, false otherwise\n * @api public\n */\n\nis.divisibleBy = function (value, n) {\n  var isDividendInfinite = is.infinite(value);\n  var isDivisorInfinite = is.infinite(n);\n  var isNonZeroNumber = is.number(value) && !isActualNaN(value) && is.number(n) && !isActualNaN(n) && n !== 0;\n  return isDividendInfinite || isDivisorInfinite || (isNonZeroNumber && value % n === 0);\n};\n\n/**\n * is.integer\n * Test if `value` is an integer.\n *\n * @param value to test\n * @return {Boolean} true if `value` is an integer, false otherwise\n * @api public\n */\n\nis.integer = is['int'] = function (value) {\n  return is.number(value) && !isActualNaN(value) && value % 1 === 0;\n};\n\n/**\n * is.maximum\n * Test if `value` is greater than 'others' values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is greater than `others` values\n * @api public\n */\n\nis.maximum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value < others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.minimum\n * Test if `value` is less than `others` values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is less than `others` values\n * @api public\n */\n\nis.minimum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value > others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.nan\n * Test if `value` is not a number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is not a number, false otherwise\n * @api public\n */\n\nis.nan = function (value) {\n  return !is.number(value) || value !== value;\n};\n\n/**\n * is.even\n * Test if `value` is an even number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an even number, false otherwise\n * @api public\n */\n\nis.even = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 === 0);\n};\n\n/**\n * is.odd\n * Test if `value` is an odd number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an odd number, false otherwise\n * @api public\n */\n\nis.odd = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 !== 0);\n};\n\n/**\n * is.ge\n * Test if `value` is greater than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.ge = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value >= other;\n};\n\n/**\n * is.gt\n * Test if `value` is greater than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.gt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value > other;\n};\n\n/**\n * is.le\n * Test if `value` is less than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if 'value' is less than or equal to 'other'\n * @api public\n */\n\nis.le = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value <= other;\n};\n\n/**\n * is.lt\n * Test if `value` is less than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if `value` is less than `other`\n * @api public\n */\n\nis.lt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value < other;\n};\n\n/**\n * is.within\n * Test if `value` is within `start` and `finish`.\n *\n * @param {Number} value value to test\n * @param {Number} start lower bound\n * @param {Number} finish upper bound\n * @return {Boolean} true if 'value' is is within 'start' and 'finish'\n * @api public\n */\nis.within = function (value, start, finish) {\n  if (isActualNaN(value) || isActualNaN(start) || isActualNaN(finish)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.number(value) || !is.number(start) || !is.number(finish)) {\n    throw new TypeError('all arguments must be numbers');\n  }\n  var isAnyInfinite = is.infinite(value) || is.infinite(start) || is.infinite(finish);\n  return isAnyInfinite || (value >= start && value <= finish);\n};\n\n/**\n * Test object.\n */\n\n/**\n * is.object\n * Test if `value` is an object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an object, false otherwise\n * @api public\n */\nis.object = function (value) {\n  return toStr.call(value) === '[object Object]';\n};\n\n/**\n * is.primitive\n * Test if `value` is a primitive.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a primitive, false otherwise\n * @api public\n */\nis.primitive = function isPrimitive(value) {\n  if (!value) {\n    return true;\n  }\n  if (typeof value === 'object' || is.object(value) || is.fn(value) || is.array(value)) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * is.hash\n * Test if `value` is a hash - a plain object literal.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a hash, false otherwise\n * @api public\n */\n\nis.hash = function (value) {\n  return is.object(value) && value.constructor === Object && !value.nodeType && !value.setInterval;\n};\n\n/**\n * Test regexp.\n */\n\n/**\n * is.regexp\n * Test if `value` is a regular expression.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a regexp, false otherwise\n * @api public\n */\n\nis.regexp = function (value) {\n  return toStr.call(value) === '[object RegExp]';\n};\n\n/**\n * Test string.\n */\n\n/**\n * is.string\n * Test if `value` is a string.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is a string, false otherwise\n * @api public\n */\n\nis.string = function (value) {\n  return toStr.call(value) === '[object String]';\n};\n\n/**\n * Test base64 string.\n */\n\n/**\n * is.base64\n * Test if `value` is a valid base64 encoded string.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is a base64 encoded string, false otherwise\n * @api public\n */\n\nis.base64 = function (value) {\n  return is.string(value) && (!value.length || base64Regex.test(value));\n};\n\n/**\n * Test base64 string.\n */\n\n/**\n * is.hex\n * Test if `value` is a valid hex encoded string.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is a hex encoded string, false otherwise\n * @api public\n */\n\nis.hex = function (value) {\n  return is.string(value) && (!value.length || hexRegex.test(value));\n};\n\n/**\n * is.symbol\n * Test if `value` is an ES6 Symbol\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a Symbol, false otherise\n * @api public\n */\n\nis.symbol = function (value) {\n  return typeof Symbol === 'function' && toStr.call(value) === '[object Symbol]' && typeof symbolValueOf.call(value) === 'symbol';\n};\n\nmodule.exports = is;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is/index.js\n// module id = 187\n// module chunks = 0 1","/*\n * Copyright (c)  2017 Caipi Labs .\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * @author : Nathanael Braun\n * @contact : caipilabs@gmail.com\n */\nvar is = require('is');\nexport default class Emitter {\n    _events = {};\n    \n    on( evt, cb ) {\n        if ( !is.string(evt) && evt )\n            return Object.keys(evt).forEach(k => this.on(k, evt[k]));\n        \n        this._events[evt] = this._events[evt] || [];\n        this._events[evt].push(cb);\n        \n    }\n    \n    un( evt, cb ) {\n        if ( !is.string(evt) && evt )\n            return Object.keys(evt).forEach(k => this.un(k, evt[k]));\n        \n        if ( !this._events[evt] ) return;\n        var i = this._events[evt].indexOf(cb);\n        this._events[evt].splice(i, 1);\n    }\n    \n    emit( evt, ...argz ) {\n        if ( !this._events[evt] ) return;\n        let lists = [...this._events[evt]];\n        for ( var i = 0; i < lists.length; i++ ) {\n            lists[i](...argz);\n        }\n    }\n    \n    addListener() {\n        this.on(...arguments);\n    }\n    \n    removeListener() {\n        this.un(...arguments);\n    }\n    \n    removeAllListeners() {\n        this._events = {};\n    }\n    \n    once( evt, cb ) {\n        let fn;\n        this.on(evt, fn = ( ...argz ) => {\n            this.un(evt, fn);\n            cb(...argz)\n        });\n    }\n    \n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/Emitter.js","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/index.js\n// module id = 189\n// module chunks = 0 1","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/index.js\n// module id = 190\n// module chunks = 0 1","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/alphabet.js\n// module id = 191\n// module chunks = 0 1","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/random/random-from-seed.js\n// module id = 192\n// module chunks = 0 1","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/encode.js\n// module id = 193\n// module chunks = 0 1","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/random/random-byte-browser.js\n// module id = 194\n// module chunks = 0 1","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/decode.js\n// module id = 195\n// module chunks = 0 1","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/build.js\n// module id = 196\n// module chunks = 0 1","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/is-valid.js\n// module id = 197\n// module chunks = 0 1","'use strict';\n\nmodule.exports = 0;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/util/cluster-worker-id-browser.js\n// module id = 198\n// module chunks = 0 1","/*\n * Copyright (c)  2017 Caipi Labs .\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * @author : Nathanael Braun\n * @contact : caipilabs@gmail.com\n */\n\n/**\n * Ultra scalable state-aware store\n *\n * @todo : lot of optims...\n */\n\nvar is           = require('is'),\n    Context      = require('./Context'),\n    EventEmitter = require('./Emitter'),\n    shortid      = require('shortid'),\n    objProto     = Object.getPrototypeOf({});\n\n\nexport default class Store extends EventEmitter {\n    \n    static use                        = [];// overridable list of source stores\n    static follow;// overridable list of store that will allow push if updated\n    static require;\n    static staticContext              = new Context({}, { id: \"static\" });\n    static initialState               = undefined;// default state @depreciated\n    static state                      = undefined;// default state\n    /**\n     *\n     * @type {number}\n     */\n           static defaultMaxListeners = 100;\n    /**\n     * if retain goes to 0 :\n     * false to not destroy,\n     * 0 to sync auto destroy\n     * Ms to autodestroy after tm ms if no retain has been called\n     * @type {boolean|Int}\n     */\n           static persistenceTm       = false;\n    \n    /**\n     * Constructor, will build a rescope store\n     *\n     * (context, {require,use,apply,state, data})\n     * (context)\n     *\n     * @param context {object} context where to find the other stores (default : static staticContext )\n     * @param keys {Array} (passed to Store::map) Ex : [\"session\", \"otherNamedStore:key\", otherStore.as(\"otherKey\")]\n     */\n    constructor() {\n        super();\n        var argz         = [...arguments],\n            _static      = this.constructor,\n            context      = argz[0] instanceof Context\n                ? argz.shift()\n                : _static.context ? Context.getContext(_static.context)\n                               : is.string(argz[0])\n                      ? Context.getContext(argz.shift())\n                      : _static.staticContext,\n            cfg          = argz[0] && !is.array(argz[0]) && !is.string(argz[0]) ? argz.shift() : {},\n            name         = is.string(argz[0]) ? argz[0] : cfg.name || _static.name,\n            watchs       = is.array(argz[0]) ? argz.shift() : cfg.use || [],// watchs need to be defined after all the\n                                                                            // store are registered : so we can't deal\n                                                                            // with any \"static use\" automaticly\n            apply        = is.fn(argz[0]) ? argz.shift() : cfg.apply || null,\n            initialState = _static.state || _static.initialState;\n        \n        this._uid          = cfg._uid || shortid.generate();\n        this._maxListeners = cfg.defaultMaxListeners || Store.defaultMaxListeners;\n        \n        this.__retains    = { all: 0 };\n        this.__locks      = { all: 0 };\n        this._onStabilize = [];\n        \n        this._persistenceTm = cfg.persistenceTm || this.constructor.persistenceTm;\n        if ( is.string(argz[0]) ) {\n            if ( context.__context[name] )\n                console.warn(\"ReScope: Overwriting an existing static named store ( %s ) !!\", name);\n            context.__context[name] = this;\n        }\n        \n        if ( cfg && cfg.on ) {\n            this.on(cfg.on);\n        }\n        // this.state      = this.state || {};\n        \n        \n        this.name = name;\n        \n        if ( context.stores ) {\n            this.contextObj = context;\n            this.context    = context.stores;\n        }\n        else {\n            this.contextObj = new Context(context);\n            this.context    = context.stores;\n        }\n        \n        \n        this._rev     = 0;\n        this._revs    = {};\n        this.stores   = {};\n        this._require = [];\n        \n        if ( is.array(_static.use) ) {\n            this._use = [...watchs, ...(_static.use || []).map(\n                key => {\n                    let ref = key.match(/^(\\!?)([^\\:]*)(?:\\:(.*))?$/);\n                    if ( ref[1] ) {\n                        let ref2 = ref[2].split('.');\n                        this._require.push(ref[3] || ref2[ref2.length - 1]);\n                    }\n                    return ref[2];\n                }\n            )];\n        }\n        else {\n            this._use = [...watchs, ...(\n                _static.use ? Object.keys(_static.use)\n                                    .map(\n                                        key => {\n                                            let ref = key.match(/^(\\!?)(.*)$/);\n                                            ref[1] && this._require.push(_static.use[key]);\n                                            return ref[2] + ':' + _static.use[key];\n                                        }\n                                    ) : []\n            )];\n        }\n        \n        if ( _static.require )\n            this._require.push(..._static.require);\n        if ( cfg.require )\n            this._require.push(...cfg.require);\n        \n        this._followers = [];\n        \n        if ( _static.data !== undefined )\n            this.data = { ..._static.data };\n        if ( cfg.hasOwnProperty(\"data\") && cfg.data !== undefined )\n            this.data = cfg.data;\n        if ( cfg.hasOwnProperty(\"state\") && cfg.state !== undefined )\n            initialState = { ...initialState, ...cfg.state };\n        \n        if ( apply )\n            this.apply = apply;\n        \n        \n        if ( initialState || this._use.length ) {// sync apply\n            this.state = {\n                ...(initialState || {}),\n                ...context.map(this, this._use)\n            };\n            if ( this.shouldApply(this.state) && this.data === undefined )\n                this.data = this.apply(this.data, this.state, this.state);\n        }\n        if ( this.data !== undefined ) {\n            this._stable = true; // stable if it have initial result data ?\n            this._rev++;\n        }\n        else {\n            this._stable = false;\n            if ( !this.state && (!this._use || !this._use.length) ) {\n                console.warn(\"Rescope store '\", this.name, \"' have no initial data, state or use. It can't stabilize...\");\n            }\n        }\n        !this._stable && this.emit('unstable', this.state);\n    }\n    \n    /**\n     * get a Builder-key pair for Store::map\n     * @param {string} name\n     * @returns {{store: Store, name: *}}\n     */\n    static as( name ) {\n        return { store: this, name };\n    }\n    \n    /**\n     * Map all named stores in {keys} to the {object}'s state\n     * Hook componentWillUnmount (for react comp) or destroy to unBind them automatically\n     * @static\n     * @param object {React.Component|Store|...} target state aware object\n     * @param keys {Array} Ex : [\"session\", \"otherStaticNamedStore:key\", store.as('anotherKey')]\n     */\n    static map( component, keys, context, origin, setInitial = false ) {\n        var targetRevs     = component._revs || {};\n        var targetContext  = component.stores || (component.stores = {});\n        var initialOutputs = {};\n        keys               = is.array(keys) ? [...keys] : [keys];\n        \n        \n        context = context || Store.staticContext;\n        \n        keys           = keys.filter(\n            // @todo : use query refs\n            // (store)(\\.store)*(\\[(\\*|(props)\\w+)+)\\])?(\\:alias)\n            ( key ) => {\n                if ( !key ) {\n                    console.error(\"Not a mappable store item '\" + key + \"' in \" + origin + ' !!');\n                    return false;\n                }\n                let name,\n                    alias,\n                    path,\n                    store;\n                if ( key.store && key.name ) {\n                    alias = name = key.name;\n                    store = key.store;\n                }\n                else if ( is.fn(key) ) {\n                    name = alias = key.name || key.defaultName;\n                    store = key;\n                }\n                else {\n                    key   = key.match(/([\\w_]+)((?:\\.[\\w_]+)*)(?:\\:([\\w_]+))?/);\n                    name  = key[1];\n                    path  = key[2] && key[2].split('.').slice(1);\n                    store = context.stores[key[1]];\n                    alias = key[3] || path && path[path.length - 1] || key[1];\n                }\n                \n                if ( targetRevs[name] ) return false;// ignore dbl uses for now\n                \n                if ( !store ) {\n                    console.error(\"Not a mappable store item '\" + name + \"/\" + alias + \"' in \" + origin + ' !!', store);\n                    return false;\n                }\n                else if ( is.fn(store) ) {\n                    context._mount(name)\n                    \n                    context.stores[name].bind(component, alias, setInitial, path);\n                }\n                else {\n                    store.bind(component, alias, setInitial, path);\n                }\n                targetRevs[alias] = targetRevs[alias] || true;\n                !targetContext[name] && (targetContext[name] = context.stores[name]);\n                if ( context.stores[name].hasOwnProperty('data') )\n                    initialOutputs[name] = context.data[name];\n                return true;\n            }\n        );\n        var mixedCWUnmount,\n            unMountKey = component.isReactComponent ? \"componentWillUnmount\" : \"destroy\";\n        \n        if ( component.hasOwnProperty(unMountKey) ) {\n            mixedCWUnmount = component[unMountKey];\n        }\n        \n        component[unMountKey] = ( ...argz ) => {\n            delete component[unMountKey];\n            if ( mixedCWUnmount )\n                component[unMountKey] = mixedCWUnmount;\n            \n            keys.map(\n                ( key ) => {\n                    let name,\n                        alias, path,\n                        store;\n                    if ( key.store && key.name ) {\n                        alias = name = key.name;\n                        store = key.store;\n                    }\n                    else if ( is.fn(key) ) {\n                        name = alias = key.name || key.defaultName;\n                        store = context.stores[name];\n                    }\n                    else {\n                        key   = key.match(/([\\w_]+)((?:\\.[\\w_]+)*)(?:\\:([\\w_]+))?/);\n                        name  = key[1];\n                        path  = key[2] && key[2].split('.');\n                        store = context.stores[key[1]];\n                        alias = key[3] || path && path[path.length - 1] || key[1];\n                    }\n                    \n                    store && !is.fn(store) && store.unBind(component, alias, path)\n                }\n            );\n            return component[unMountKey] && component[unMountKey](...argz);\n        }\n        \n        return initialOutputs;\n    }\n    \n    /**\n     * @deprecated\n     * @returns {*}\n     */\n    get datas() {\n        return this.data;\n    }\n    \n    /**\n     * @deprecated\n     * @returns {*}\n     */\n    set datas( v ) {\n        console.groupCollapsed(\"Rescope store : Setting datas is depreciated, use data\");\n        console.log((new Error()).stack);\n        console.groupEnd();\n        \n        this.data = v;\n    }\n    \n    /**\n     * Overridable method to know if a data change should be propag to the listening stores & components\n     */\n    shouldPropag( nDatas ) {\n        var _static = this.constructor, r,\n            cDatas  = this.data;\n        r           = !cDatas && nDatas;\n        cDatas && Object.keys(cDatas).forEach(\n            ( key ) => {\n                r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\n            }\n        );\n        nDatas && Object.keys(nDatas).forEach(\n            ( key ) => {\n                r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\n            }\n        );\n        return !!r;\n    }\n    \n    /**\n     * Overridable method to know if a state change should be applied\n     */\n    shouldApply( state = this.state ) {\n        var _static = this.constructor;\n        \n        return (\n                   this.isComplete(state)\n               )\n               &&\n               is.array(_static.follow)\n            ? _static.follow\n                     .reduce(( r, i ) => (r || state && state[i]), false)\n            : _static.follow\n                   ? Object.keys(_static.follow)\n                           .reduce(( r, i ) => (\n                               r\n                               || state && is.fn(_static.follow[i]) && _static.follow[i].call(this, state[i])\n                               || _static.follow[i] && state[i] !== this.state[i]\n                           ), false) : true;\n    }\n    \n    /**\n     * Overridable applier / remapper\n     * If state or lastPublicState are simple hash maps apply will return {...data, ...state}\n     * if not it will return the last private state\n     * @param data\n     * @param state\n     * @returns {*}\n     */\n    apply( data, state, changes ) {\n        state = state || this.state;\n        \n        if ( this.refine )\n            return this.refine(...arguments);\n        \n        if ( !data || data.__proto__ !== objProto || state.__proto__ !== objProto )\n            return state;\n        else\n            return { ...data, ...state }\n    }\n    \n    /**\n     * @depreciated\n     * @param data\n     * @param state\n     * @param changes\n     * @returns {*}\n     */\n    refine( data, state, changes ) {\n        state = state || this.state;\n        \n        if ( !data || data.__proto__ !== objProto || state.__proto__ !== objProto )\n            return state;\n        else\n            return { ...data, ...state }\n    }\n    \n    /**\n     * Debounce this store propagation ( & reducing )\n     * @param cb\n     */\n    stabilize( cb ) {\n        cb && this.once('stable', cb);\n        this._stable && this.emit('unstable', this.state, this.data);\n        \n        this._stable = false;\n        \n        if ( this._stabilizer )\n            clearTimeout(this._stabilizer);\n        \n        this._stabilizer = setTimeout(\n            this.push.bind(\n                this,\n                null,\n                () => {//@todo\n                    \n                    let stable   = this._stable;\n                    this._stable = true;\n                    !stable && this.emit('stable', this.state, this.data);\n                    this._stabilizer = null;\n                    // this.release();\n                }\n            ));\n    }\n    \n    retrieve( path, i = 0, obj = this.data ) {\n        path = is.string(path) ? path.split('.') : path;\n        return !obj || !path || !path.length\n            ? obj\n            : path.length == i + 1\n                   ? obj[path[i]]\n                   : this.retrieve(path, i + 1, obj[path[i]]);\n    }\n    \n    dispatch( action, ...argz ) {\n        this.contextObj.dispatch(action, ...argz);\n    }\n    \n    trigger( action, ...argz ) {\n        let { actions } = this.constructor,\n            ns;\n        if ( actions && actions[action] ) {\n            ns = actions[action].call(this, ...argz);\n            ns && this.setState(ns);\n        }\n    }\n    \n    /**\n     * Pull stores in the private state\n     * @param stores  {Array} (passed to Store::map) Ex : [\"session\", \"otherNamedStore:key\", otherStore.as(\"otherKey\")]\n     */\n    pull( stores, doWait, origin ) {\n        let initialOutputs = this.contextObj.map(this, stores);\n        if ( doWait ) {\n            this.wait();\n            stores.forEach(( s ) => this.context[s] && this.wait(this.context[s]));\n            this.release();\n        }\n        return initialOutputs;\n    }\n    \n    /**\n     * Apply apply/remap on the private state & push the resulting \"public\" state to followers\n     * @param cb\n     */\n    push( data, force, cb ) {\n        cb            = force === true ? cb : force;\n        force         = force === true;\n        var i         = 0,\n            nextState = !data && { ...this.state, ...this._changesSW } || this.state,\n            nextDatas = data || this.apply(this.data, nextState, this._changesSW);\n        \n        this.state = nextState;\n        if ( !force &&\n            (\n                (!this.data && this.data === nextDatas) || !this.shouldPropag(nextDatas)\n            )\n        ) {\n            cb && cb();\n            return false;\n        }\n        \n        this.data       = nextDatas;\n        this._changesSW = {};\n        //this.__locks.all++;\n        this.wait();\n        this.release(cb);\n        \n    }\n    \n    /**\n     * Update the current private state & push it once the store is stable\n     * @param pState\n     * @param cb\n     */\n    setState( pState, cb, sync ) {\n        var i       = 0, change,\n            changes = this._changesSW = this._changesSW || {};\n        for ( var k in pState )\n            if ( !this.state || pState.hasOwnProperty(k)\n                && (\n                    pState[k] != this.state[k]\n                    ||\n                    (this.state[k] && pState[k] && (pState[k]._rev != this._revs[k]))// rev/hash update\n                ) ) {\n                change        = true;\n                this._revs[k] = pState[k] && pState[k]._rev || true;\n                changes[k]    = pState[k];\n            }\n        \n        if ( !this.shouldApply({ ...this.state, ...changes }) ) {\n            return;\n        }\n        \n        if ( sync ) {\n            this.push();\n            cb && cb();\n            \n        }\n        else {\n            if ( change ) {\n                this.stabilize(cb);\n            }\n            else cb && cb();\n        }\n        return this;\n    }\n    \n    /**\n     * Update the current private state & push it once the store is stable\n     * @param pState\n     * @param cb\n     */\n    setStateSync( pState ) {\n        var i       = 0, change,\n            changes = this._changesSW = this._changesSW || {};\n        for ( var k in pState )\n            if ( !this.state || pState.hasOwnProperty(k)\n                && (\n                    pState[k] != this.state[k]\n                    ||\n                    (this.state[k] && pState[k] && (pState[k]._rev != this._revs[k]))// rev/hash update\n                ) ) {\n                change        = true;\n                this._revs[k] = pState[k] && pState[k]._rev || true;\n                changes[k]    = pState[k];\n            }\n        this.push();\n        return this.data;\n    }\n    \n    /**\n     * Replace the current private state & push it once the store is stable\n     * @param pState\n     * @param cb\n     */\n    replaceState( pState, cb ) {\n        var i      = 0, me = this;\n        this.state = pState;\n        \n        this.stabilize(cb);\n    }\n    \n    /**\n     * get a store-key pair for Store::map\n     * @param {string} name\n     * @returns {{store: Store, name: *}}\n     */\n    as( name ) {\n        return { store: this, name };\n    }\n    \n    on( lists ) {\n        if ( !is.string(lists) && lists )\n            Object.keys(lists).forEach(k => super.on(k, lists[k]));\n        else super.on(...arguments);\n    }\n    \n    removeListener( lists ) {\n        if ( !is.string(lists) && lists )\n            Object.keys(lists).forEach(k => super.removeListener(k, lists[k]));\n        else super.removeListener(...arguments);\n    }\n    \n    /**\n     * relink bindings & requires\n     * @param {string} name\n     * @returns {{store: Store, name: *}}\n     */\n    relink( from ) {\n        let context = this.contextObj,\n            _static = this.constructor;\n        if ( _static.use ) {\n            //todo unlink\n            this.pull(_static.use, false, from);\n        }\n        \n        if ( this._require ) {\n            this._require.forEach(\n                store => (\n                    this.wait(context.__context[store])\n                )\n            );\n        }\n    }\n    \n    /**\n     * is complete (all requiered keys are here)\n     * @returns bool\n     */\n    isComplete( state = this.state ) {\n        var _static = this.constructor;\n        return (\n            !this._require\n            || !this._require.length\n            || state && this._require.reduce(\n                ( r, key ) => (r && state[key]),\n                true\n            )\n        );\n    }\n    \n    /**\n     * is stable\n     * @returns bool\n     */\n    isStable() {\n        return this._stable;\n    }\n    \n    /**\n     * Un bind this store off the given component-key\n     * @param obj\n     * @param key\n     * @returns {Array.<*>}\n     */\n    unBind( obj, key, path ) {\n        var followers = this._followers,\n            i         = followers && followers.length;\n        while ( followers && i-- )\n            if ( followers[i][0] === obj && followers[i][1] === key && followers[i][2] === path )\n                return followers.splice(i, 1);\n    }\n    \n    /**\n     * Bind this store changes to the given component-key\n     * @param obj {React.Component|Store|function)\n     * @param key {string} optional key where to map the public state\n     */\n    bind( obj, key, setInitial = true, path ) {\n        this._followers.push([obj, key, path]);\n        if ( setInitial && this.data && this._stable ) {\n            let data = path ? this.retrieve(path) : this.data;\n            if ( typeof obj != \"function\" ) {\n                if ( key ) obj.setState({ [key]: data });\n                else obj.setState(data);\n            }\n            else {\n                obj(data);\n            }\n        }\n    }\n    \n    /**\n     * once('stable', cb)\n     * @param obj {React.Component|Store|function)\n     * @param key {string} optional key where to map the public state\n     */\n    then( cb ) {\n        if ( this._stable )\n            return cb(null, this.data);\n        this.once('stable', e => cb(null, this.data));\n    }\n    \n    /**\n     * Add a lock so the store will not propag it state untill release() is call\n     * @param previous {Store|number|Array} @optional wf to wait, releases to wait or array of stuff to wait\n     * @returns {TaskFlow}\n     */\n    wait( previous ) {\n        if ( typeof previous == \"number\" )\n            return this.__locks.all += previous;\n        if ( is.array(previous) )\n            return previous.map(this.wait.bind(this));\n        \n        this._stable && this.emit('unstable', this.state, this.data);\n        this._stable = false;\n        this.__locks.all++;\n        \n        let reason = is.string(previous) ? previous : null;\n        if ( reason ) {\n            this.__locks[reason] = this.__locks[reason] || 0;\n            this.__locks[reason]++;\n        }\n        if ( previous && is.fn(previous.then) ) {\n            previous.then(this.release.bind(this, null));\n        }\n        return this;\n    }\n    \n    /**\n     * Decrease locks for this store, if it reach 0 & it have a public state,\n     * it will be propagated to the followers,\n     * then, all stuff passed to \"then\" call back will be exec / released\n     * @param desync\n     * @returns {*}\n     */\n    release( reason, cb ) {\n        var _static = this.constructor;\n        let i       = 0, wasStable = this._stable;\n        \n        if ( is.fn(reason) ) {\n            cb     = reason;\n            reason = null;\n        }\n        \n        if ( reason ) {\n            if ( this.__locks[reason] == 0 )\n                console.error(\"Release more than locking !\", reason);\n            this.__locks[reason] = this.__locks[reason] || 0;\n            this.__locks[reason]--;\n        }\n        \n        if ( !reason && this.__locks.all == 0 )\n            console.error(\"Release more than locking !\");\n        \n        if ( !--this.__locks.all && this.data && this.isComplete() ) {\n            this._stable = true;\n            this._rev    = 1 + (this._rev + 1) % 1000000;//\n            if ( this._followers.length )\n                this._followers.forEach(( follower ) => {\n                    let data = follower[2] ? this.retrieve(follower[2]) : this.data;\n                    if ( !data ) return;\n                    if ( typeof follower[0] == \"function\" ) {\n                        follower[0](data);\n                    }\n                    else {\n                        //cb && i++;\n                        follower[0].setState(\n                            (follower[1]) ? { [follower[1]]: data }\n                                : data\n                            //,\n                            //cb && (\n                            //    () => (!(--i) && cb())\n                            //)\n                        );\n                    }\n                });\n            //else\n            !wasStable && this.emit('stable', this.data);\n            this.emit('update', this.data);\n            cb && cb()\n        }\n        else cb && this.then(cb);\n        return this;\n    }\n    \n    retain( reason ) {\n        this.__retains.all++;\n        if ( reason ) {\n            this.__retains[reason] = this.__retains[reason] || 0;\n            this.__retains[reason]++;\n        }\n    }\n    \n    dispose( reason ) {\n        //console.warn(\"dispose\", reason, this.__retains);\n        if ( reason ) {\n            if ( !this.__retains[reason] )\n                throw new Error(\"Dispose more than retaining !\");\n            \n            this.__retains[reason] = this.__retains[reason] || 0;\n            this.__retains[reason]--;\n        }\n        if ( this.__retains.all == 0 )\n            throw new Error(\"Dispose more than retaining !\");\n        \n        this.__retains.all--;\n        \n        if ( !this.__retains.all ) {\n            if ( this._persistenceTm ) {\n                this._destroyTM && clearTimeout(this._destroyTM);\n                this._destroyTM = setTimeout(\n                    e => {\n                        this._destroyTM = null;\n                        this.then(s => {\n                            !this.__retains.all && this.destroy()\n                        });\n                    },\n                    this._persistenceTm\n                );\n            }\n            else {\n                this.then(s => (!this.__retains.all && this.destroy()));\n            }\n        }\n    }\n    \n    destroy() {\n        //  console.log(\"destroy\", this._uid);\n        \n        this.emit('destroy', this);\n        if ( this._stabilizer )\n            clearTimeout(this._stabilizer);\n        \n        if ( this._followers.length )\n            this._followers.forEach(\n                ( follower ) => {\n                    if ( typeof follower[0] !== \"function\" ) {\n                        if ( follower[0].stores )\n                            delete follower[0].stores[follower[1]];\n                    }\n                }\n            );\n        this._followers.length = 0;\n        this.dead              = true;\n        this._revs             = this.data = this.state = this.context = null;\n        this.removeAllListeners();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Store.js","/*\n * Copyright (c)  2017 Caipi Labs .\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @author Nathanael BRAUN\n *\n * Date: 03/12/2016\n * Time: 09:28\n */\nimport {Store} from \"../Rescope\";\n\nvar stubs = require(\"./_stubs/data\");\n\n\nlet status = new (class  extends Store {\n    static context = 'static';\n    static state   = {};\n    static actions = {\n        userEvents( msg ) {\n            return { userEvents: msg };\n        },\n        currentUser( msg ) {\n            return { currentUser: msg };\n        }\n    }\n})()\n\nlet MyStoreContext = {\n    status,\n    appState   : class appState extends Store {\n        static state = {\n            currentUserId: \"MrNice\"\n        };\n        \n        // constructor() {\n        //     super(...arguments);\n        //     browserHistory.listen(( location, action ) => {\n        //\n        //     });\n        // }\n        \n        // apply( data, newState, changes ) {\n        //     // do some routing (map on url)\n        //     return newState;\n        // }\n    },\n    currentUser: class currentUser extends Store {\n        static use = [\"appState\"];// list of source stores id\n        \n        apply( data, { appState: { currentUserId: NewUserId } }, changes ) {\n            let LastUserId = data && data._id;\n            \n            console.info(\"currentUser state updated : \", changes);\n            \n            if ( NewUserId != LastUserId ) {\n                this.wait();// don't propag until released\n                setTimeout(\n                    () => {\n                        // get the user record or whatever...\n                        this.push(\n                            {\n                                _id  : NewUserId,\n                                login: NewUserId\n                            },\n                            () => {\n                                status.trigger(\"currentUser\", JSON.stringify(this.data));\n                            }\n                        );\n                        \n                        this.release();\n                    },\n                    500\n                );\n                status.trigger(\"currentUser\", \"user id change ! doing some async...\");\n                \n            }\n            \n            \n            return data;\n        }\n    },\n    userEvents : class userEvents extends Store {\n        static use = {\n            \"!currentUser._id\": \"myUserId\"\n        };\n        \n        apply( data, { myUserId }, changes ) {\n            let { cUserId = void 0 } = data||{};\n            \n            \n            if ( myUserId != cUserId ) {\n                this.wait();// do some async without pushing\n                setTimeout(\n                    () => {\n                        // get somme user events or whatever...\n                        this.push(\n                            {\n                                userId      : myUserId,\n                                count       : stubs[myUserId].length,\n                                events      : stubs[myUserId],\n                                eventsByType: stubs[myUserId].reduce(\n                                    ( res, item ) => {\n                                        res[item.type] = res[item.type] || [res[item.type]];\n                                        res[item.type].push(item);\n                                        return res;\n                                    },\n                                    {}\n                                )\n                            },\n                            () => {\n                                status.trigger(\"userEvents\", stubs[myUserId].length + \" events\");\n                            });\n                        this.release();\n                    },\n                    500\n                );\n                status.trigger(\"userEvents\", \"user data change ! doing some async...\");\n                \n            }\n            \n            return data;\n        }\n    }\n};\n\n\nexport default { ...MyStoreContext };\n\n\n// WEBPACK FOOTER //\n// ./src/example/StoresContext.js","/*\n * Copyright (c)  2017 Caipi Labs .\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @author Nathanael BRAUN\n *\n * Date: 25/01/2017\n * Time: 09:16\n */\nexport default {\n    \"MrNice\" : [\n        {\n            type : \"event\",\n            text : \"nice event\"\n        },\n        {\n            type : \"news\",\n            text : \"nice news\"\n        },\n        {\n            type : \"poke\",\n            text : \"some poke\"\n        },\n        {\n            type : \"event\",\n            text : \"another event\"\n        },\n        {\n            type : \"comment\",\n            text : \"another comment\"\n        }\n    ],\n    \"MissTick\" : [\n        {\n            type : \"event\",\n            text : \"some events\"\n        },\n        {\n            type : \"news\",\n            text : \"some news\"\n        },\n        {\n            type : \"poke\",\n            text : \"some poke\"\n        },\n        {\n            type : \"event\",\n            text : \"another event\"\n        }\n    ]\n}\n\n\n// WEBPACK FOOTER //\n// ./src/example/_stubs/data.js","/*\n * Copyright (c)  2017 Caipi Labs .\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @author Nathanael BRAUN\n *\n * Date: 25/01/2017\n * Time: 11:08\n */\nimport Rescope from \"../../Rescope\";\nimport StoreContext from \"../StoresContext\";\n\nfunction NewsListComp( target = document.createElement('div') ) {\n    \n    this.setState = ( state ) => {\n        console.log(\"redraw\")\n        target.innerHTML =\n            (\n                state.userEvents &&\n                state.userEvents.events &&\n                state.userEvents.events\n                     .map(\n                         ( evt ) => `\n                                    <div style=\"border: solid 1px lightgrey;border-radius: 3px\">\n                                        <b><u><center>Event type : ${evt.type}</center></u></b>\n                                        <p>${evt.text}</p>\n                                    </div>`\n                     ).join()\n                || \"<b><u><center>Loading...</center></u></b>\"\n            );\n    };\n    this.node = target;\n}\n\nwindow.Rescope = Rescope;\nwindow.StoreContext = StoreContext;\nwindow.NewsListComp = NewsListComp;\n\nexport default NewsListComp;\n\n\n// WEBPACK FOOTER //\n// ./src/example/vanilla/NewsListComp.js","module.exports = __webpack_public_path__ + \"example/vanilla/index.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/example/vanilla/index.html\n// module id = 205\n// module chunks = 1"],"sourceRoot":""}
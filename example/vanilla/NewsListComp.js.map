{"version":3,"sources":["webpack:///webpack/bootstrap 0af4d180e528fd6fda4c?efb0","webpack:///./src/Rescope.js?4e27","webpack:///./src/Store.js?6192","webpack:///./~/isstring/isString.umd.js?e454","webpack:///./~/isarray/index.js?eabc","webpack:///./~/isfunction/lib/main.js?b41e","webpack:///./~/events/events.js?7c71","webpack:///./src/example/StoresContext.js?2569","webpack:///./src/example/_stubs/datas.js?a6e5","webpack:///./src/example/vanilla/NewsListComp.js","webpack:///./src/example/vanilla/index.html"],"names":["Rescope_factory","scope","Rescope","argz","constructor","_Rescope","Store","arguments","fetch","bind","context","staticContext","map","setContext","cb","stores","Object","keys","length","mountAllStore","pull","then","state","window","e","isString","require","isArray","isFunction","EventEmitter","objProto","getPrototypeOf","name","store","component","origin","targetRevs","_revs","targetContext","initialOutputs","filter","key","console","error","alias","defaultName","split","relink","hasOwnProperty","datas","mixedCWUnmount","unMountKey","isReactComponent","unBind","apply","_static","shift","watchs","refine","setMaxListeners","defaultMaxListeners","locks","_onStabilize","warn","_watchs","_stable","_rev","_followers","initialState","undefined","isComplete","nDatas","r","cDatas","follow","reduce","i","forEach","changes","__proto__","me","once","_stabilizer","clearTimeout","setTimeout","push","doWait","wait","s","release","force","nextState","_changesSW","nextDatas","shouldPropag","pState","change","k","stabilize","from","use","obj","followers","splice","setState","previous","follower","emit","dead","removeAllListeners","autokill","stubs","MyStoreContext","status","session","currentUserId","currentUser","newState","NewUserId","LastUserId","_id","info","login","JSON","stringify","userEvents","nUserId","cUserId","userId","count","events","eventsByType","res","item","type","text","NewsListComp","target","document","createElement","innerHTML","evt","join","node","StoreContext"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACtCA;;;;;;;;;;;;AAEA,KAAIA,kBAAkB,SAASA,eAAT,CAA0BC,KAA1B,EAAkC;AAChD,YAAO,SAASC,OAAT,GAA4B;AAAA,2CAAPC,IAAO;AAAPA,iBAAO;AAAA;;AAC/B,aAAK,QAAQ,KAAKC,WAAL,KAAqBF,OAAlC,EAA2C;AAC3C;AACI,qBAAIG,WAAeL,gBAAgBG,KAAK,CAAL,CAAhB,CAAnB;AACAE,0BAASC,KAAT;AAAA;;AACI,gDAAc;AAAA;;AAAA;;AAAA,sKACJH,KAAK,CAAL,CADI,oCACQI,SADR;AAEb;;AAHL;AAAA;AAKAF,0BAASG,KAAT,GAAmBA,MAAMC,IAAN,CAAWJ,QAAX,EAAqBF,KAAK,CAAL,CAArB,CAAnB;AACAE,0BAASK,OAAT,GAAmBP,KAAK,CAAL,KAAW,gBAAMQ,aAApC;AACA,wBAAON,QAAP;AACH,cAXD,MAWO;AACH,oBAAO,gBAAMO,GAAN,CAAUT,KAAK,CAAL,CAAV,EAAmBA,KAAK,CAAL,CAAnB,EAA4BF,KAA5B,CAAP;AACH;AACJ,MAfD;AAgBH,EAjBL;AAAA,KAkBIY,aAAkB,SAASA,UAAT,CAAqBH,OAArB,EAA+B,CAEhD,CApBL;AAAA,KAqBIF,QAAkB,SAASA,KAAT,CAAgBE,OAAhB,EAAyBI,EAAzB,EAA8B;AAC5CJ,eAAaA,WAAW,gBAAMC,aAA9B;AACA,SAAII,SAASC,OAAOC,IAAP,CAAYP,OAAZ,CAAb;AACA,SAAK,CAACK,OAAOG,MAAb,EACI,OAAOJ,GAAG,IAAH,EAASJ,OAAT,CAAP;AACJ,SAAIS,gBAAgB,oBAAUT,OAAV,CAApB;AACAS,mBAAcC,IAAd,CAAmBL,MAAnB,EAA2B,IAA3B;AACAI,mBAAcE,IAAd,CAAmB,UAAEC,KAAF;AAAA,gBAAaR,GAAG,IAAH,EAASQ,KAAT,EAAgBZ,OAAhB,CAAb;AAAA,MAAnB;AACH,EA7BL;AAAA,KA8BIR,UAAkBF,gBAAgB,IAAhB,CA9BtB;;AAgCAE,SAAQI,KAAR;AACAJ,SAAQM,KAAR,GAAkB,UAAEM,EAAF;AAAA,YAAUN,MAAM,gBAAMG,aAAZ,EAA2BG,EAA3B,CAAV;AAAA,EAAlB;AACAZ,SAAQQ,OAAR,GAAkB,gBAAMC,aAAxB;AACA,KAAI;AACA,SAAK,OAAOY,MAAP,IAAiB,WAAtB,EAAoC;AAChCA,gBAAOrB,OAAP,GAAiBA,OAAjB;AACH;AACJ,EAJD,CAIC,OAAOsB,CAAP,EAAS,CAET;;mBAEctB,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7Cf;;;;;;AAMA,KAAIuB,WAAe,mBAAAC,CAAQ,GAAR,CAAnB;AAAA,KACMC,UAAa,mBAAAD,CAAQ,GAAR,CADnB;AAAA,KAEME,aAAa,mBAAAF,CAAQ,GAAR,CAFnB;AAAA,KAIIG,eAAe,mBAAAH,CAAQ,GAAR,CAJnB;AAAA,KAKII,WAAed,OAAOe,cAAP,CAAsB,EAAtB,CALnB;;KAQqBzB,K;;;;;AAQkB;;AAEnC;;;;;AAJuC;AAJP;4BAarB0B,I,EAAO;AACd,oBAAO,EAACC,OAAQ,IAAT,EAAeD,UAAf,EAAP;AACH;;AAED;;;;;;;AAhBc;;;;6BAuBFE,S,EAAWjB,I,EAAMP,O,EAASyB,M,EAAS;AAC3C,iBAAIC,aAAiBF,UAAUG,KAAV,IAAmB,EAAxC;AACA,iBAAIC,gBAAiBJ,UAAUnB,MAAV,IAAoB,EAAzC;AACA,iBAAIwB,iBAAiB,EAArB;AACAtB,oBAAqBU,QAAQV,IAAR,iCAAoBA,IAApB,KAA4B,CAACA,IAAD,CAAjD;;AAEAP,uBAAiBA,WAAWJ,MAAMK,aAAlC;AACAM,oBAAiBA,KAAKuB,MAAL,CACb,UAAEC,GAAF,EAAW;AACP,qBAAK,CAACA,GAAN,EAAY;AACRC,6BAAQC,KAAR,CAAc,gCAAgCF,GAAhC,GAAsC,OAAtC,GAAgDN,MAAhD,GAAyD,KAAvE;AACA,4BAAO,KAAP;AACH;AACD,qBAAIH,aAAJ;AAAA,qBACIY,cADJ;AAAA,qBAEIX,cAFJ;AAGA,qBAAKQ,IAAIR,KAAJ,IAAaQ,IAAIT,IAAtB,EAA6B;AACzBY,6BAAQZ,OAAOS,IAAIT,IAAnB;AACAC,6BAAQQ,IAAIR,KAAZ;AACH,kBAHD,MAGO,IAAKL,WAAWa,GAAX,CAAL,EAAuB;AAC1BT,4BAAOY,QAAQH,IAAIT,IAAJ,IAAYS,IAAII,WAA/B;AACAZ,6BAAQQ,GAAR;AACH,kBAHM,MAGA;AACHA,2BAAQA,IAAIK,KAAJ,CAAU,GAAV,CAAR;AACAd,4BAAQS,IAAI,CAAJ,CAAR;AACAR,6BAAQvB,QAAQ+B,IAAI,CAAJ,CAAR,CAAR;AACAG,6BAAQH,IAAI,CAAJ,KAAUA,IAAI,CAAJ,CAAlB;AACH;AACD,qBAAKL,WAAWJ,IAAX,CAAL,EAAwB,OAAO,KAAP,CApBjB,CAoB8B;AACrC,qBAAK,CAACC,KAAN,EAAc;AACVS,6BAAQC,KAAR,CAAc,gCAAgCX,IAAhC,GAAuC,GAAvC,GAA6CY,KAA7C,GAAqD,OAArD,GAA+DT,MAA/D,GAAwE,KAAtF,EAA6FF,KAA7F;AACA,4BAAO,KAAP;AACH,kBAHD,MAGO,IAAKL,WAAWK,KAAX,CAAL,EAAyB;AAC5BvB,6BAAQsB,IAAR,IAAgB,IAAIC,KAAJ,CAAUvB,OAAV,CAAhB;;AAEAA,6BAAQsB,IAAR,EAAce,MAAd,CAAqBf,IAArB;AACAtB,6BAAQsB,IAAR,EAAcvB,IAAd,CAAmByB,SAAnB,EAA8BU,KAA9B;AACA;AACA;AACA;AACH,kBARM,MAQA;AACHX,2BAAMxB,IAAN,CAAWyB,SAAX,EAAsBU,KAAtB;AACH;AACDR,4BAAWQ,KAAX,IAAuBR,WAAWQ,KAAX,KAAqB,IAA5C;AACAN,+BAAcM,KAAd,IAAuBN,cAAcM,KAAd,KAAwBlC,QAAQsB,IAAR,CAA/C;AACA,qBAAKtB,QAAQsB,IAAR,EAAcgB,cAAd,CAA6B,OAA7B,CAAL,EACIT,eAAeK,KAAf,IAAwBlC,QAAQsB,IAAR,EAAciB,KAAtC;AACJ,wBAAO,IAAP;AACH,cAzCY,CAAjB;AA2CA,iBAAIC,cAAJ;AAAA,iBACIC,aAAajB,UAAUkB,gBAAV,GAA6B,sBAA7B,GAAsD,SADvE;;AAGA,iBAAKlB,UAAUc,cAAV,CAAyBG,UAAzB,CAAL,EAA4C;AACxCD,kCAAiBhB,UAAUiB,UAAV,CAAjB;AACH;;AAEDjB,uBAAUiB,UAAV,IAAwB,YAAY;AAAC;AACjC,wBAAO,KAAKA,UAAL,CAAP;AACA,qBAAKD,cAAL,EACI,KAAKC,UAAL,IAAmBD,cAAnB;AACJjC,sBAAKL,GAAL,CACI,UAAE6B,GAAF,EAAW;AACP,yBAAIT,aAAJ;AAAA,yBACIY,cADJ;AAAA,yBAEIX,cAFJ;AAGA,yBAAKQ,IAAIR,KAAJ,IAAaQ,IAAIT,IAAtB,EAA6B;AACzBY,iCAAQZ,OAAOS,IAAIT,IAAnB;AACAC,iCAAQQ,IAAIR,KAAZ;AACH,sBAHD,MAGO,IAAKL,WAAWa,GAAX,CAAL,EAAuB;AAC1BT,gCAAOY,QAAQH,IAAIT,IAAJ,IAAYS,IAAII,WAA/B;AACAZ,iCAAQvB,QAAQsB,IAAR,CAAR;AACH,sBAHM,MAGA;AACHS,+BAAQA,IAAIK,KAAJ,CAAU,GAAV,CAAR;AACAd,gCAAQS,IAAI,CAAJ,CAAR;AACAR,iCAAQvB,QAAQ+B,IAAI,CAAJ,CAAR,CAAR;AACAG,iCAAQH,IAAI,CAAJ,KAAUA,IAAI,CAAJ,CAAlB;AACH;;AAEDR,2BAAMoB,MAAN,CAAanB,SAAb,EAAwBU,KAAxB;AACH,kBAnBL;AAqBA,wBAAO,KAAKO,UAAL,KAAoB,KAAKA,UAAL,EAAiBG,KAAjB,CAAuB,IAAvB,EAA6B/C,SAA7B,CAA3B;AACH,cA1BD;;AA4BA,oBAAOgC,cAAP;AACH;;AAED;;;;;;;;;;;;;;;;;AAcA,sBAAc;AAAA;;AAAA;;AAEV,aAAIpC,4CAAcI,SAAd,EAAJ;AAAA,aACIgD,UAAU,MAAKnD,WADnB;AAAA,aAEIM,UAAU,CAACiB,QAAQxB,KAAK,CAAL,CAAR,CAAD,IAAqB,CAACsB,SAAStB,KAAK,CAAL,CAAT,CAAtB,GAA0CA,KAAKqD,KAAL,EAA1C,GAAyDD,QAAQ5C,aAF/E;AAAA,aAGIqB,OAAUP,SAAStB,KAAK,CAAL,CAAT,IAAoBA,KAAK,CAAL,CAApB,GAA8BoD,QAAQvB,IAHpD;AAAA,aAIIyB,SAAU9B,QAAQxB,KAAK,CAAL,CAAR,IAAmBA,KAAKqD,KAAL,EAAnB,GAAkC,EAJhD;AAAA,aAImD;AAC/CE,kBAAU9B,WAAWzB,KAAK,CAAL,CAAX,IAAsBA,KAAKqD,KAAL,EAAtB,GAAqC,IALnD;AAOA,eAAKG,eAAL,CAAqBrD,MAAMsD,mBAA3B;AACA,eAAKC,KAAL,GAAoB,CAApB;AACA,eAAKC,YAAL,GAAoB,EAApB;;AAEA,aAAKrC,SAAStB,KAAK,CAAL,CAAT,CAAL,EAAyB;AACrB,iBAAKO,QAAQsB,IAAR,CAAL,EACIU,QAAQqB,IAAR,CAAa,+DAAb,EAA8E/B,IAA9E;AACJtB,qBAAQsB,IAAR;AACH;;AAED;;AAEA,eAAKgC,OAAL,GAAkBP,MAAlB;AACA,eAAKzB,IAAL,GAAkBA,IAAlB;AACA,eAAKtB,OAAL,GAAkBA,OAAlB;AACA,eAAKuD,OAAL,GAAkB,IAAlB;AACA,eAAKC,IAAL,GAAkB,CAAlB;AACA,eAAK7B,KAAL,GAAkB,EAAlB;AACA,eAAKtB,MAAL,GAAkB,EAAlB;AACA,eAAKoD,UAAL,GAAkB,EAAlB;;AAEA,aAAKT,MAAL,EACI,MAAKA,MAAL,GAAcA,MAAd;;AAEJ,aAAK,CAAC,CAAC,MAAKM,OAAZ,EAAsB;AAAC;AACnB,mBAAK5C,IAAL,CAAU,MAAK4C,OAAf;AACH;;AAED,aAAKT,QAAQa,YAAR,IAAwB,MAAKnB,KAAL,KAAeoB,SAA5C,EAAwD;AAAC;AACrD,mBAAK/C,KAAL,gBAAiBiC,QAAQa,YAAzB;AACA,iBAAK,MAAKE,UAAL,EAAL,EACI,MAAKrB,KAAL,GAAa,MAAKS,MAAL,CAAY,MAAKT,KAAjB,EAAwB,MAAK3B,KAA7B,EAAoC,MAAKA,KAAzC,CAAb;AACP;AACD,eAAK2C,OAAL,GAAe,MAAKhB,KAAL,KAAeoB,SAA9B,CA1CU,CA0C8B;AA1C9B;AA2Cb;;AAED;;;;;;;;;sCAKcE,M,EAAS;AACnB,iBAAIhB,UAAU,KAAKnD,WAAnB;AAAA,iBAAgCoE,CAAhC;AAAA,iBACIC,SAAU,KAAKxB,KADnB;;AAGA;AACA;AACA,iBAAK,CAACwB,MAAD,KAAY,CAAClB,QAAQmB,MAAT,IAAmB,CAACnB,QAAQmB,MAAR,CAAexD,MAAnC,IACbqC,QAAQmB,MAAR,IAAkBnB,QAAQmB,MAAR,CAAeC,MAAf,CAAsB,UAAEH,CAAF,EAAKI,CAAL;AAAA,wBAAaJ,KAAKD,UAAUA,OAAOK,CAAP,CAA5B;AAAA,cAAtB,EAA8D,KAA9D,CADjB,CAAL,EAEI,OAAO,IAAP;;AAEJ,iBAAKjD,QAAQ4B,QAAQmB,MAAhB,CAAL,EACInB,QAAQmB,MAAR,CAAeG,OAAf,CACI,UAAEpC,GAAF,EAAW;AACP+B,qBAAIA,MAAMD,SAASE,OAAOhC,GAAP,MAAgB8B,OAAO9B,GAAP,CAAzB,GAAuCgC,UAAUA,OAAOhC,GAAP,CAAvD,CAAJ;AACH,cAHL,EADJ,KAMK,IAAKc,QAAQmB,MAAR,KAAmB,QAAxB,EACDF,IAAID,WAAWE,MAAf,CADC,KAEA;AACDA,2BAAUzD,OAAOC,IAAP,CAAYwD,MAAZ,EAAoBI,OAApB,CACN,UAAEpC,GAAF,EAAW;AACP+B,yBAAIA,MAAMD,SAASE,OAAOhC,GAAP,MAAgB8B,OAAO9B,GAAP,CAAzB,GAAuCgC,UAAUA,OAAOhC,GAAP,CAAvD,CAAJ;AACH,kBAHK,CAAV;AAKA8B,2BAAUvD,OAAOC,IAAP,CAAYsD,MAAZ,EAAoBM,OAApB,CACN,UAAEpC,GAAF,EAAW;AACP+B,yBAAIA,MAAMD,SAASE,OAAOhC,GAAP,MAAgB8B,OAAO9B,GAAP,CAAzB,GAAuCgC,UAAUA,OAAOhC,GAAP,CAAvD,CAAJ;AACH,kBAHK,CAAV;AAKH;;AAED,oBAAO,CAAC,CAAC+B,CAAT;AACH;;AAED;;;;;;;;;;;gCAQQvB,K,EAAO3B,K,EAAOwD,O,EAAU;AAC5BxD,qBAAQA,SAAS,KAAKA,KAAtB;;AAEA,iBAAK,CAAC2B,KAAD,IAAUA,MAAM8B,SAAN,KAAoBjD,QAA9B,IAA0CR,MAAMyD,SAAN,KAAoBjD,QAAnE,EACI,OAAOR,KAAP,CADJ,KAGI,oBAAW2B,KAAX,EAAqB3B,KAArB;AACP;;AAED;;;;;;;mCAIWR,E,EAAK;AAAA;;AACZ,iBAAIkE,KAAK,IAAT;AACAlE,mBAAMkE,GAAGC,IAAH,CAAQ,QAAR,EAAkBnE,EAAlB,CAAN;AACAkE,gBAAGf,OAAH,GAAa,KAAb;;AAEA,iBAAK,KAAKiB,WAAV,EACIC,aAAa,KAAKD,WAAlB;;AAEJ,kBAAKA,WAAL,GAAmBE,WACf,KAAKC,IAAL,CAAU5E,IAAV,CACI,IADJ,EAEI,IAFJ,EAGI,YAAM;AAAC;AACH;AACA,wBAAKyE,WAAL,GAAmB,IAAnB;AACA;AACH,cAPL,CADe,CAAnB;AAUH;;AAGD;;;;;;;8BAIMnE,M,EAAQuE,M,EAAQnD,M,EAAS;AAAA;;AAC3B7B,mBAAMM,GAAN,CAAU,IAAV,EAAgBG,MAAhB,EAAwB,KAAKL,OAA7B,EAAsCyB,MAAtC;AACA,iBAAKmD,MAAL,EAAc;AACV,sBAAKC,IAAL;AACAxE,wBAAO8D,OAAP,CAAe,UAAEW,CAAF;AAAA,4BAAS,OAAK9E,OAAL,CAAa8E,CAAb,KAAmB,OAAKD,IAAL,CAAU,OAAK7E,OAAL,CAAa8E,CAAb,CAAV,CAA5B;AAAA,kBAAf;AACA,sBAAKC,OAAL;AACH;AACJ;;AAED;;;;;;;8BAIMxC,K,EAAOyC,K,EAAO5E,E,EAAK;AACrBA,kBAAgB4E,UAAU,IAAV,GAAiB5E,EAAjB,GAAsB4E,KAAtC;AACAA,qBAAgBA,UAAU,IAA1B;AACA,iBAAId,IAAY,CAAhB;AAAA,iBACII,KAAY,IADhB;AAAA,iBAEIW,YAAY,CAAC1C,KAAD,iBAAc,KAAK3B,KAAnB,EAA6B,KAAKsE,UAAlC,KAAiD,KAAKtE,KAFtE;AAAA,iBAGIuE,YAAY5C,UACP,KAAKqB,UAAL,CAAgBqB,SAAhB,IAA6B,KAAKjC,MAAL,CAAY,KAAKT,KAAjB,EAAwB0C,SAAxB,EAAmC,KAAKC,UAAxC,CAA7B,GAAmF,KAAK3C,KADjF,CAHhB;;AAOA,kBAAK3B,KAAL,GAAaqE,SAAb;AACA,iBAAK,CAACD,KAAD,KAEI,CAAC,KAAKzC,KAAN,IAAe,KAAKA,KAAL,KAAe4C,SAA/B,IAA6C,CAAC,KAAKC,YAAL,CAAkBD,SAAlB,CAFjD,CAAL,EAIE;AACE/E,uBAAMA,IAAN;AACA,wBAAO,KAAP;AACH;;AAED,kBAAKmC,KAAL,GAAa4C,SAAb;AACA,kBAAKhC,KAAL;AACA,kBAAK4B,OAAL,CAAa3E,EAAb;AAEH;;AAED;;;;;;;;kCAKUiF,M,EAAQjF,E,EAAK;AACnB,iBAAI8D,IAAU,CAAd;AAAA,iBAAiBoB,MAAjB;AAAA,iBACIlB,UAAU,KAAKc,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EADnD;AAEA,kBAAM,IAAIK,CAAV,IAAeF,MAAf;AACI,qBAAK,CAAC,KAAKzE,KAAN,IAAeyE,OAAO/C,cAAP,CAAsBiD,CAAtB,MAEZF,OAAOE,CAAP,KAAa,KAAK3E,KAAL,CAAW2E,CAAX,CAAb,IAEC,KAAK3E,KAAL,CAAW2E,CAAX,KAAiBF,OAAOE,CAAP,CAAjB,IAA+BF,OAAOE,CAAP,EAAU/B,IAAV,IAAkB,KAAK7B,KAAL,CAAW4D,CAAX,CAJtC,CAIqD;AAJrD,kBAApB,EAKQ;AACJD,8BAAgB,IAAhB;AACA,0BAAK3D,KAAL,CAAW4D,CAAX,IAAgBF,OAAOE,CAAP,KAAaF,OAAOE,CAAP,EAAU/B,IAAvB,IAA+B,IAA/C;AACAY,6BAAQmB,CAAR,IAAgBF,OAAOE,CAAP,CAAhB;AACH;AAVL,cAYA,IAAKD,MAAL,EAAc;AACV,sBAAKE,SAAL,CAAepF,EAAf;AACH,cAFD,MAEOA,MAAMA,IAAN;AACP,oBAAO,IAAP;AACH;;AAED;;;;;;;;sCAKciF,M,EAAQjF,E,EAAK;AACvB,iBAAI8D,IAAS,CAAb;AAAA,iBAAgBI,KAAK,IAArB;AACA,kBAAK1D,KAAL,GAAayE,MAAb;;AAEA,kBAAKG,SAAL,CAAepF,EAAf;AACH;;AAED;;;;;;;;4BAKIkB,I,EAAO;AACP,oBAAO,EAACC,OAAQ,IAAT,EAAeD,UAAf,EAAP;AACH;;AAED;;;;;;;;gCAKQmE,I,EAAO;AAAA;;AACX,iBAAIzF,UAAU,KAAKA,OAAnB;AAAA,iBACI6C,UAAU,KAAKnD,WADnB;AAEA,iBAAKmD,QAAQ6C,GAAb,EAAmB;AACf;AACA,sBAAKhF,IAAL,CAAUmC,QAAQ6C,GAAlB,EAAuB,KAAvB,EAA8BD,IAA9B;AACH;;AAED,iBAAK5C,QAAQ7B,OAAb,EAAuB;AACnB6B,yBAAQ7B,OAAR,CAAgBmD,OAAhB,CACI;AAAA,4BACI,OAAKU,IAAL,CAAU7E,QAAQuB,KAAR,CAAV,CADJ;AAAA,kBADJ;AAKH;AACJ;;AAED;;;;;;;sCAIiC;AAAA,iBAArBX,KAAqB,yDAAb,KAAKA,KAAQ;;AAC7B,iBAAIiC,UAAU,KAAKnD,WAAnB;AACA,oBACI,CAACmD,QAAQ7B,OAAT,IACG,CAAC6B,QAAQ7B,OAAR,CAAgBR,MADpB,IAEGI,SAASiC,QAAQ7B,OAAR,CAAgBiD,MAAhB,CACR,UAAEH,CAAF,EAAK/B,GAAL;AAAA,wBAAe+B,KAAKlD,MAAMmB,GAAN,CAApB;AAAA,cADQ,EAER,IAFQ,CAHhB;AAQH;;AAED;;;;;;;;;gCAMQ4D,G,EAAK5D,G,EAAM;AACf,iBAAI6D,YAAY,KAAKnC,UAArB;AAAA,iBACIS,IAAY,KAAKT,UAAL,CAAgBjD,MADhC;AAEA,oBAAO0D,GAAP;AACI,qBAAK0B,UAAU1B,CAAV,EAAa,CAAb,KAAmByB,GAAnB,IAA0BC,UAAU1B,CAAV,EAAa,CAAb,KAAmBnC,GAAlD,EACI,OAAO6D,UAAUC,MAAV,CAAiB3B,CAAjB,EAAoB,CAApB,CAAP;AAFR;AAGH;;AAED;;;;;;;;8BAKMyB,G,EAAK5D,G,EAAM;AACb,kBAAK0B,UAAL,CAAgBkB,IAAhB,CAAqB,CAACgB,GAAD,EAAM5D,GAAN,CAArB;AACA,iBAAK,KAAKQ,KAAL,IAAc,KAAKgB,OAAxB,EAAkC;AAC9B,qBAAK,OAAOoC,GAAP,IAAc,UAAnB,EAAgC;AAC5B,yBAAK5D,GAAL,EAAW4D,IAAIG,QAAJ,qBAAe/D,GAAf,EAAsB,KAAKQ,KAA3B,GAAX,KACKoD,IAAIG,QAAJ,CAAa,KAAKvD,KAAlB;AACR,kBAHD,MAGO;AACHoD,yBAAI,KAAKpD,KAAT;AACH;AACJ;AACJ;;AAED;;;;;;;;8BAKMnC,E,EAAK;AACP,iBAAK,KAAKmD,OAAV,EACI,OAAOnD,GAAG,KAAKmC,KAAR,CAAP;AACJ,kBAAKgC,IAAL,CAAU,QAAV,EAAoBnE,EAApB;AACH;;AAED;;;;;;;;8BAKM2F,Q,EAAW;AACb,iBAAK,OAAOA,QAAP,IAAmB,QAAxB,EACI,OAAO,KAAK5C,KAAL,IAAc4C,QAArB;AACJ,iBAAK9E,QAAQ8E,QAAR,CAAL,EACI,OAAOA,SAAS7F,GAAT,CAAa,KAAK2E,IAAL,CAAU9E,IAAV,CAAe,IAAf,CAAb,CAAP;;AAGJ,kBAAKwD,OAAL,GAAe,KAAf;AACA,kBAAKJ,KAAL;AACA,iBAAK4C,YAAY7E,WAAW6E,SAASpF,IAApB,CAAjB,EAA6C;AACzCoF,0BAASpF,IAAT,CAAc,KAAKoE,OAAL,CAAahF,IAAb,CAAkB,IAAlB,EAAwB,IAAxB,CAAd;AACH;AACD,oBAAO,IAAP;AACH;;AAED;;;;;;;;;;iCAOSK,E,EAAK;AAAA;;AACV,iBAAIyC,UAAU,KAAKnD,WAAnB;AACA,iBAAIwE,IAAU,CAAd;;AAEA,iBAAK,CAAC,GAAE,KAAKf,KAAR,IAAiB,KAAKZ,KAAtB,IAA+B,KAAKqB,UAAL,EAApC,EAAwD;AACpD,sBAAKL,OAAL,GAAe,IAAf;;AAGA,sBAAKC,IAAL,GAAY,IAAI,CAAC,KAAKA,IAAL,GAAY,CAAb,IAAkB,OAAlC,CAJoD,CAIV;AAC1C,qBAAK,KAAKC,UAAL,CAAgBjD,MAArB,EACI,KAAKiD,UAAL,CAAgBU,OAAhB,CAAwB,UAAE6B,QAAF,EAAgB;AACpC,yBAAK,CAAC,OAAKzD,KAAX,EAAmB;AACnB,yBAAK,OAAOyD,SAAS,CAAT,CAAP,IAAsB,UAA3B,EAAwC;AACpCA,kCAAS,CAAT,EAAY,OAAKzD,KAAjB;AACH,sBAFD,MAEO;AACHnC,+BAAM8D,GAAN;AACA8B,kCAAS,CAAT,EAAYF,QAAZ,CACKE,SAAS,CAAT,CAAD,uBACEA,SAAS,CAAT,CADF,EACiB,OAAKzD,KADtB,IAGA,OAAKA,KAJT,EAKInC,MACI;AAAA,oCAAO,CAAE,GAAE8D,CAAJ,IAAU9D,IAAjB;AAAA,0BANR;AASH;AACJ,kBAhBD;;AAkBJ,sBAAK6F,IAAL,CAAU,QAAV,EAAoB,KAAK1D,KAAzB;AACA,kBAAC2B,CAAD,IAAM9D,EAAN,IAAYA,IAAZ;AACH,cA1BD,MA0BOA,MAAM,KAAKO,IAAL,CAAUP,EAAV,CAAN;AACP,oBAAO,IAAP;AACH;;;mCAES;;AAEN,iBAAK,KAAKoE,WAAV,EACIC,aAAa,KAAKD,WAAlB;AACJ,iBAAK,KAAKf,UAAL,CAAgBjD,MAArB,EACI,KAAKiD,UAAL,CAAgBU,OAAhB,CACI,UAAE6B,QAAF,EAAgB;AACZ,qBAAK,OAAOA,SAAS,CAAT,CAAP,KAAuB,UAA5B,EAAyC;AACrC,yBAAKA,SAAS,CAAT,EAAY3F,MAAjB,EACI,OAAO2F,SAAS,CAAT,EAAY3F,MAAZ,CAAmB2F,SAAS,CAAT,CAAnB,CAAP;AACP;AACJ,cANL;AAQJ,kBAAKvC,UAAL,GAAkB,IAAlB;AACA,kBAAKyC,IAAL,GAAkB,IAAlB;AACA,iBAAK,KAAK5E,IAAL,IAAa,KAAKtB,OAAL,CAAa,KAAKsB,IAAlB,MAA4B,IAA9C,EACI,OAAO,KAAKtB,OAAL,CAAa,KAAKsB,IAAlB,CAAP;AACJ,kBAAKK,KAAL,GAAa,KAAKY,KAAL,GAAa,KAAK3B,KAAL,GAAa,KAAKZ,OAAL,GAAe,IAAtD;AACA,kBAAKmG,kBAAL;AACH;;;;GAxf8BhF,Y;;AAAdvB,M,CAEV8F,G,GAAsB,E;AAFZ9F,M,CAKVK,a,GAAsB,E;AALZL,M,CAMV8D,Y,GAAsBC,S;AANZ/D,M,CAOVsD,mB,GAAsB,E;AAPZtD,M,CAQVwG,Q,GAAsB,K;mBARZxG,K;;;;;;;;ACdrB,kGAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,0BAA0B,EAAE;AACnE;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA8C,sBAAsB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACzCD;AACA;AACA;;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;uEC7SA;;;;;;;;AAMA;;;;;;;;AACA,KAAIyG,QAAQ,mBAAArF,CAAQ,GAAR,CAAZ;;AAEA,KAAIsF,iBAAiB;AACjBC;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,+BACWb,GADX,GACiB,CAAC,SAAD,CADjB,QADiB;AAIjBc;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,gCACW9C,YADX,GAC0B;AAClB+C,wBAAgB;AADE,MAD1B,SAJiB;AAiBjBC;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAC6B;;AAD7B,oCAGYnE,KAHZ,EAGmBoE,QAHnB,EAG6BvC,OAH7B,EAGuC;AAAA;;AAC/B,qBAAIwC,YAAaD,SAASH,OAAT,IAAoBG,SAASH,OAAT,CAAiBC,aAAtD;AAAA,qBACII,aAAatE,SAASA,MAAMuE,GADhC;;AAGA9E,yBAAQ+E,IAAR,CAAa,8BAAb,EAA6C3C,OAA7C;;AAEA,qBAAKwC,aAAaC,UAAlB,EAA+B;AAC3B,0BAAKhC,IAAL,GAD2B,CACf;AACZH,gCACI,YAAM;AACF;AACA,gCAAKC,IAAL,CACI;AACImC,kCAAQF,SADZ;AAEII,oCAAQJ;AAFZ,0BADJ,EAKI,YAAM;AACF,oCAAK5G,OAAL,CAAauG,MAAb,CAAoBT,QAApB,CAA6B,EAACY,aAAcO,KAAKC,SAAL,CAAe,OAAK3E,KAApB,CAAf,EAA7B;AACH,0BAPL;;AAUA,gCAAKwC,OAAL;AACH,sBAdL,EAeI,GAfJ;AAiBA,0BAAK/E,OAAL,CAAauG,MAAb,CAAoBT,QAApB,CAA6B,EAACY,aAAc,sCAAf,EAA7B;AACH;;AAGD,wBAAOnE,KAAP;AACH;AAjCL;;AAAA;AAAA,gCACWmD,GADX,GACiB,CAAC,SAAD,CADjB,SAjBiB;AAoDjByB;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAEqC;AACjC;AACA;AACA;AACA;;AANJ,oCAQY5E,KARZ,EAQmBoE,QARnB,EAQ6BvC,OAR7B,EAQuC;AAAA;;AAC/B,qBAAIgD,UAAUT,SAASD,WAAT,IAAwBC,SAASD,WAAT,CAAqBI,GAA3D;AAAA,qBACIO,UAAU9E,SAASA,MAAM+E,MAD7B;;AAIA,qBAAKF,WAAWC,OAAhB,EAA0B;AACtB,0BAAKxC,IAAL,GADsB,CACX;AACXH,gCACI,YAAM;AACF;AACA,gCAAKC,IAAL,CACI;AACI2C,qCAAeF,OADnB;AAEIG,oCAAelB,MAAMe,OAAN,EAAe5G,MAFlC;AAGIgH,qCAAenB,MAAMe,OAAN,CAHnB;AAIIK,2CAAepB,MAAMe,OAAN,EAAenD,MAAf,CACX,UAAEyD,GAAF,EAAOC,IAAP,EAAiB;AACbD,qCAAIC,KAAKC,IAAT,IAAiBF,IAAIC,KAAKC,IAAT,KAAkB,CAACF,IAAIC,KAAKC,IAAT,CAAD,CAAnC;AACAF,qCAAIC,KAAKC,IAAT,EAAejD,IAAf,CAAoBgD,IAApB;AACA,wCAAOD,GAAP;AACH,8BALU,EAMX,EANW;AAJnB,0BADJ,EAcI,YAAM;AACF,oCAAK1H,OAAL,CAAauG,MAAb,CAAoBT,QAApB,CAA6B,EAACqB,YAAa,KAAKd,MAAMe,OAAN,EAAe5G,MAApB,GAA6B,SAA3C,EAA7B;AACH,0BAhBL;AAiBA,gCAAKuE,OAAL;AACH,sBArBL,EAsBI,GAtBJ;AAwBA,0BAAK/E,OAAL,CAAauG,MAAb,CAAoBT,QAApB,CAA6B,EAACqB,YAAa,yCAAd,EAA7B;AACH;;AAED,wBAAO5E,KAAP;AACH,cA3CL,CACiC;;AADjC;;AAAA;AAAA,gCACWmD,GADX,GACiB,CAAC,aAAD,CADjB,UAEW1E,OAFX,GAEqB,CAAC,aAAD,CAFrB;AApDiB,EAArB;;mBAoGe;AAAA,yBAAWsF,cAAX;AAAA,E;;;;;;;;;;;;;;AC7Gf;;;;;;mBAMe;AACX,eAAW,CACP;AACIsB,eAAO,OADX;AAEIC,eAAO;AAFX,MADO,EAKP;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MALO,EASP;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MATO,EAaP;AACID,eAAO,OADX;AAEIC,eAAO;AAFX,MAbO,EAiBP;AACID,eAAO,SADX;AAEIC,eAAO;AAFX,MAjBO,CADA;AAuBX,iBAAa,CACT;AACID,eAAO,OADX;AAEIC,eAAO;AAFX,MADS,EAKT;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MALS,EAST;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MATS,EAaT;AACID,eAAO,OADX;AAEIC,eAAO;AAFX,MAbS;AAvBF,E;;;;;;;;;;;;;;ACAf;;;;AACA;;;;;;AAPA;;;;;;AAQA,UAASC,YAAT,GAAgE;AAAA,SAAzCC,MAAyC,yDAAhCC,SAASC,aAAT,CAAuB,KAAvB,CAAgC;;;AAE5D,UAAKnC,QAAL,GAAgB,UAAElF,KAAF,EAAa;AACzBmH,gBAAOG,SAAP,GAEQtH,MAAMuG,UAAN,IACAvG,MAAMuG,UAAN,CAAiBK,MAAjB,CACKtH,GADL,CAEQ,UAAEiI,GAAF;AAAA,kMAE6CA,IAAIP,IAFjD,sEAGqBO,IAAIN,IAHzB;AAAA,UAFR,EAOMO,IAPN,EADA,IASG,2CAXX;AAaH,MAdD;AAeA,UAAKC,IAAL,GAAgBN,MAAhB;AACH;;AAEDlH,QAAOyH,YAAP;AACAzH,QAAOiH,YAAP,GAAsBA,YAAtB;mBACeA,Y;;;;;;;;AC9Bf,uE","file":"example/vanilla/NewsListComp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0af4d180e528fd6fda4c","import Store from \"./Store\";\r\n\r\nlet Rescope_factory = function Rescope_factory( scope ) {\r\n        return function Rescope( ...argz ) {\r\n            if ( this && this.constructor === Rescope )// using new\r\n            {\r\n                let _Rescope     = Rescope_factory(argz[0]);\r\n                _Rescope.Store   = class ContextualStore extends Store {\r\n                    constructor() {\r\n                        super(argz[0], ...arguments)\r\n                    }\r\n                };\r\n                _Rescope.fetch   = fetch.bind(_Rescope, argz[0]);\r\n                _Rescope.context = argz[0] || Store.staticContext;\r\n                return _Rescope;\r\n            } else {\r\n                return Store.map(argz[0], argz[1], scope)\r\n            }\r\n        }\r\n    },\r\n    setContext      = function setContext( context ) {\r\n\r\n    },\r\n    fetch           = function fetch( context, cb ) {\r\n        context    = context || Store.staticContext;\r\n        let stores = Object.keys(context);\r\n        if ( !stores.length )\r\n            return cb(null, context);\r\n        let mountAllStore = new Store(context);\r\n        mountAllStore.pull(stores, true);\r\n        mountAllStore.then(( state ) => cb(null, state, context));\r\n    },\r\n    Rescope         = Rescope_factory(null);\r\n\r\nRescope.Store   = Store;\r\nRescope.fetch   = ( cb ) => fetch(Store.staticContext, cb);\r\nRescope.context = Store.staticContext;\r\ntry {\r\n    if ( typeof window != 'undefined' ) {\r\n        window.Rescope = Rescope;\r\n    }\r\n}catch (e){\r\n\r\n}\r\n\r\nexport default Rescope;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Rescope.js","/**\r\n * Ultra scalable state-aware store\r\n *\r\n * @todo : lot of optims...\r\n */\r\n\r\nvar isString     = require('isstring')\r\n    , isArray    = require('isarray')\r\n    , isFunction = require('isfunction')\r\n    ,\r\n    EventEmitter = require('events'),\r\n    objProto     = Object.getPrototypeOf({});\r\n\r\n\r\nexport default class Store extends EventEmitter {\r\n\r\n    static use                 = [];// overridable list of source stores\r\n    static follow;// overridable list of store that will allow push if updated\r\n    static require;\r\n    static staticContext       = {};\r\n    static initialState        = undefined;// default state\r\n    static defaultMaxListeners = 20;\r\n    static autokill            = false;// false or tm without followers\r\n\r\n    /**\r\n     * get a Builder-key pair for Store::map\r\n     * @param {string} name\r\n     * @returns {{store: Store, name: *}}\r\n     */\r\n    static as( name ) {\r\n        return {store : this, name};\r\n    }\r\n\r\n    /**\r\n     * Map all named stores in {keys} to the {object}'s state\r\n     * Hook componentWillUnmount (for react comp) or destroy to unBind them automatically\r\n     * @static\r\n     * @param object {React.Component|Store|...} target state aware object\r\n     * @param keys {Array} Ex : [\"session\", \"otherStaticNamedStore:key\", store.as('anotherKey')]\r\n     */\r\n    static map( component, keys, context, origin ) {\r\n        var targetRevs     = component._revs || {};\r\n        var targetContext  = component.stores || {};\r\n        var initialOutputs = {};\r\n        keys               = isArray(keys) ? [...keys] : [keys];\r\n\r\n        context        = context || Store.staticContext;\r\n        keys           = keys.filter(\r\n            ( key ) => {\r\n                if ( !key ) {\r\n                    console.error(\"Not a mappable store item '\" + key + \"' in \" + origin + ' !!');\r\n                    return false;\r\n                }\r\n                let name,\r\n                    alias,\r\n                    store;\r\n                if ( key.store && key.name ) {\r\n                    alias = name = key.name;\r\n                    store = key.store;\r\n                } else if ( isFunction(key) ) {\r\n                    name = alias = key.name || key.defaultName;\r\n                    store = key;\r\n                } else {\r\n                    key   = key.split(':');\r\n                    name  = key[0];\r\n                    store = context[key[0]];\r\n                    alias = key[1] || key[0];\r\n                }\r\n                if ( targetRevs[name] ) return false;// ignore dbl uses for now\r\n                if ( !store ) {\r\n                    console.error(\"Not a mappable store item '\" + name + \"/\" + alias + \"' in \" + origin + ' !!', store);\r\n                    return false;\r\n                } else if ( isFunction(store) ) {\r\n                    context[name] = new store(context);\r\n\r\n                    context[name].relink(name);\r\n                    context[name].bind(component, alias);\r\n                    // if ( context[key[0]].state ) {// do sync push after constructor\r\n                    //     context[key[0]].push();\r\n                    // }\r\n                } else {\r\n                    store.bind(component, alias);\r\n                }\r\n                targetRevs[alias]    = targetRevs[alias] || true;\r\n                targetContext[alias] = targetContext[alias] || context[name];\r\n                if ( context[name].hasOwnProperty('datas') )\r\n                    initialOutputs[alias] = context[name].datas;\r\n                return true;\r\n            }\r\n        );\r\n        var mixedCWUnmount,\r\n            unMountKey = component.isReactComponent ? \"componentWillUnmount\" : \"destroy\";\r\n\r\n        if ( component.hasOwnProperty(unMountKey) ) {\r\n            mixedCWUnmount = component[unMountKey];\r\n        }\r\n\r\n        component[unMountKey] = function () {// todo hop\r\n            delete this[unMountKey];\r\n            if ( mixedCWUnmount )\r\n                this[unMountKey] = mixedCWUnmount;\r\n            keys.map(\r\n                ( key ) => {\r\n                    let name,\r\n                        alias,\r\n                        store;\r\n                    if ( key.store && key.name ) {\r\n                        alias = name = key.name;\r\n                        store = key.store;\r\n                    } else if ( isFunction(key) ) {\r\n                        name = alias = key.name || key.defaultName;\r\n                        store = context[name];\r\n                    } else {\r\n                        key   = key.split(':');\r\n                        name  = key[0];\r\n                        store = context[key[0]];\r\n                        alias = key[1] || key[0];\r\n                    }\r\n\r\n                    store.unBind(component, alias)\r\n                }\r\n            );\r\n            return this[unMountKey] && this[unMountKey].apply(this, arguments);\r\n        }\r\n\r\n        return initialOutputs;\r\n    }\r\n\r\n    /**\r\n     * Constructor, will build a rescope store\r\n     *\r\n     * (context, name, keys, refine)\r\n     * (context, name, keys)\r\n     * (keys, name)\r\n     * (keys)\r\n     * (context, name, refine)\r\n     * (context, name)\r\n     * (context)\r\n     *\r\n     * @param context {object} context where to find the other stores (default : static staticContext )\r\n     * @param keys {Array} (passed to Store::map) Ex : [\"session\", \"otherNamedStore:key\", otherStore.as(\"otherKey\")]\r\n     */\r\n    constructor() {\r\n        super();\r\n        var argz    = [...arguments],\r\n            _static = this.constructor,\r\n            context = !isArray(argz[0]) && !isString(argz[0]) ? argz.shift() : _static.staticContext,\r\n            name    = isString(argz[0]) ? argz[0] : _static.name,\r\n            watchs  = isArray(argz[0]) ? argz.shift() : [],// watchs need to be defined after all the store are registered : so we can't deal with any \"static use\" automaticly\r\n            refine  = isFunction(argz[0]) ? argz.shift() : null\r\n        ;\r\n        this.setMaxListeners(Store.defaultMaxListeners);\r\n        this.locks        = 0;\r\n        this._onStabilize = [];\r\n\r\n        if ( isString(argz[0]) ) {\r\n            if ( context[name] )\r\n                console.warn(\"ReScope: Overwriting an existing static named store ( %s ) !!\", name);\r\n            context[name] = this;\r\n        }\r\n\r\n        // this.state      = this.state || {};\r\n\r\n        this._watchs    = watchs;\r\n        this.name       = name;\r\n        this.context    = context;\r\n        this._stable    = true;\r\n        this._rev       = 1;\r\n        this._revs      = {};\r\n        this.stores     = {};\r\n        this._followers = [];\r\n\r\n        if ( refine )\r\n            this.refine = refine;\r\n\r\n        if ( !!this._watchs ) {// if there initial watchs anyway\r\n            this.pull(this._watchs);\r\n        }\r\n\r\n        if ( _static.initialState && this.datas === undefined ) {// sync refine\r\n            this.state = {..._static.initialState};\r\n            if ( this.isComplete() )\r\n                this.datas = this.refine(this.datas, this.state, this.state);\r\n        }\r\n        this._stable = this.datas !== undefined;// stable if it have initial result datas\r\n    }\r\n\r\n    /**\r\n     * Overridable method to know if a state change should be propag to the listening stores & components\r\n     * If static follow is defined, shouldPropag will return true if any of the \"follow\" keys was updated\r\n     * If not it will always return true\r\n     */\r\n    shouldPropag( nDatas ) {\r\n        var _static = this.constructor, r,\r\n            cDatas  = this.datas;\r\n\r\n        // if ( !cState )\r\n        //     return true;\r\n        if ( !cDatas && (!_static.follow || !_static.follow.length ||\r\n            _static.follow && _static.follow.reduce(( r, i ) => (r || nDatas && nDatas[i]), false)) )\r\n            return true;\r\n\r\n        if ( isArray(_static.follow) )\r\n            _static.follow.forEach(\r\n                ( key ) => {\r\n                    r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\r\n                }\r\n            );\r\n        else if ( _static.follow === 'strict' )\r\n            r = nDatas === cDatas;\r\n        else {\r\n            cDatas && Object.keys(cDatas).forEach(\r\n                ( key ) => {\r\n                    r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\r\n                }\r\n            );\r\n            nDatas && Object.keys(nDatas).forEach(\r\n                ( key ) => {\r\n                    r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\r\n                }\r\n            );\r\n        }\r\n\r\n        return !!r;\r\n    }\r\n\r\n    /**\r\n     * Overridable refiner / remapper\r\n     * If state or lastPublicState are simple hash maps refine will return {...datas, ...state}\r\n     * if not it will return the last private state\r\n     * @param datas\r\n     * @param state\r\n     * @returns {*}\r\n     */\r\n    refine( datas, state, changes ) {\r\n        state = state || this.state;\r\n\r\n        if ( !datas || datas.__proto__ !== objProto || state.__proto__ !== objProto )\r\n            return state;\r\n        else\r\n            return {...datas, ...state}\r\n    }\r\n\r\n    /**\r\n     * Debounce this store propagation ( & reducing )\r\n     * @param cb\r\n     */\r\n    stabilize( cb ) {\r\n        var me = this;\r\n        cb && me.once('stable', cb);\r\n        me._stable = false;\r\n\r\n        if ( this._stabilizer )\r\n            clearTimeout(this._stabilizer);\r\n\r\n        this._stabilizer = setTimeout(\r\n            this.push.bind(\r\n                this,\r\n                null,\r\n                () => {//@todo\r\n                    // me._stable       = true;\r\n                    this._stabilizer = null;\r\n                    // this.release();\r\n                }\r\n            ));\r\n    }\r\n\r\n\r\n    /**\r\n     * Pull stores in the private state\r\n     * @param stores  {Array} (passed to Store::map) Ex : [\"session\", \"otherNamedStore:key\", otherStore.as(\"otherKey\")]\r\n     */\r\n    pull( stores, doWait, origin ) {\r\n        Store.map(this, stores, this.context, origin);\r\n        if ( doWait ) {\r\n            this.wait();\r\n            stores.forEach(( s ) => this.context[s] && this.wait(this.context[s]));\r\n            this.release();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Apply refine/remap on the private state & push the resulting \"public\" state to followers\r\n     * @param cb\r\n     */\r\n    push( datas, force, cb ) {\r\n        cb            = force === true ? cb : force;\r\n        force         = force === true;\r\n        var i         = 0,\r\n            me        = this,\r\n            nextState = !datas && {...this.state, ...this._changesSW} || this.state,\r\n            nextDatas = datas ||\r\n                (this.isComplete(nextState) ? this.refine(this.datas, nextState, this._changesSW) : this.datas);\r\n\r\n\r\n        this.state = nextState;\r\n        if ( !force &&\r\n            (\r\n                (!this.datas && this.datas === nextDatas) || !this.shouldPropag(nextDatas)\r\n            )\r\n        ) {\r\n            cb && cb();\r\n            return false;\r\n        }\r\n\r\n        this.datas = nextDatas;\r\n        this.locks++;\r\n        this.release(cb);\r\n\r\n    }\r\n\r\n    /**\r\n     * Update the current private state & push it once the store is stable\r\n     * @param pState\r\n     * @param cb\r\n     */\r\n    setState( pState, cb ) {\r\n        var i       = 0, change,\r\n            changes = this._changesSW = this._changesSW || {};\r\n        for ( var k in pState )\r\n            if ( !this.state || pState.hasOwnProperty(k)\r\n                && (\r\n                    pState[k] != this.state[k]\r\n                    ||\r\n                    (this.state[k] && pState[k] && (pState[k]._rev != this._revs[k]))// rev/hash update\r\n                ) ) {\r\n                change        = true;\r\n                this._revs[k] = pState[k] && pState[k]._rev || true;\r\n                changes[k]    = pState[k];\r\n            }\r\n\r\n        if ( change ) {\r\n            this.stabilize(cb);\r\n        } else cb && cb();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Replace the current private state & push it once the store is stable\r\n     * @param pState\r\n     * @param cb\r\n     */\r\n    replaceState( pState, cb ) {\r\n        var i      = 0, me = this;\r\n        this.state = pState;\r\n\r\n        this.stabilize(cb);\r\n    }\r\n\r\n    /**\r\n     * get a store-key pair for Store::map\r\n     * @param {string} name\r\n     * @returns {{store: Store, name: *}}\r\n     */\r\n    as( name ) {\r\n        return {store : this, name};\r\n    }\r\n\r\n    /**\r\n     * relink bindings & requires\r\n     * @param {string} name\r\n     * @returns {{store: Store, name: *}}\r\n     */\r\n    relink( from ) {\r\n        let context = this.context,\r\n            _static = this.constructor;\r\n        if ( _static.use ) {\r\n            //todo unlink\r\n            this.pull(_static.use, false, from);\r\n        }\r\n\r\n        if ( _static.require ) {\r\n            _static.require.forEach(\r\n                store => (\r\n                    this.wait(context[store])\r\n                )\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * is complete (all requiered keys are here)\r\n     * @returns bool\r\n     */\r\n    isComplete( state = this.state ) {\r\n        var _static = this.constructor;\r\n        return (\r\n            !_static.require\r\n            || !_static.require.length\r\n            || state && _static.require.reduce(\r\n                ( r, key ) => (r && state[key]),\r\n                true\r\n            )\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Un bind this store off the given component-key\r\n     * @param obj\r\n     * @param key\r\n     * @returns {Array.<*>}\r\n     */\r\n    unBind( obj, key ) {\r\n        var followers = this._followers,\r\n            i         = this._followers.length;\r\n        while (i--)\r\n            if ( followers[i][0] == obj && followers[i][1] == key )\r\n                return followers.splice(i, 1);\r\n    }\r\n\r\n    /**\r\n     * Bind this store changes to the given component-key\r\n     * @param obj {React.Component|Store|function)\r\n     * @param key {string} optional key where to map the public state\r\n     */\r\n    bind( obj, key ) {\r\n        this._followers.push([obj, key]);\r\n        if ( this.datas && this._stable ) {\r\n            if ( typeof obj != \"function\" ) {\r\n                if ( key ) obj.setState({[key] : this.datas});\r\n                else obj.setState(this.datas);\r\n            } else {\r\n                obj(this.datas);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * once('stable', cb)\r\n     * @param obj {React.Component|Store|function)\r\n     * @param key {string} optional key where to map the public state\r\n     */\r\n    then( cb ) {\r\n        if ( this._stable )\r\n            return cb(this.datas);\r\n        this.once('stable', cb);\r\n    }\r\n\r\n    /**\r\n     * Add a lock so the store will not propag it state untill release() is call\r\n     * @param previous {Store|number|Array} @optional wf to wait, releases to wait or array of stuff to wait\r\n     * @returns {TaskFlow}\r\n     */\r\n    wait( previous ) {\r\n        if ( typeof previous == \"number\" )\r\n            return this.locks += previous;\r\n        if ( isArray(previous) )\r\n            return previous.map(this.wait.bind(this));\r\n\r\n\r\n        this._stable = false;\r\n        this.locks++;\r\n        if ( previous && isFunction(previous.then) ) {\r\n            previous.then(this.release.bind(this, null));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Decrease locks for this store, if it reach 0 & it have a public state,\r\n     * it will be propagated to the followers,\r\n     * then, all stuff passed to \"then\" call back will be exec / released\r\n     * @param desync\r\n     * @returns {*}\r\n     */\r\n    release( cb ) {\r\n        var _static = this.constructor;\r\n        let i       = 0;\r\n\r\n        if ( !--this.locks && this.datas && this.isComplete() ) {\r\n            this._stable = true;\r\n\r\n\r\n            this._rev = 1 + (this._rev + 1) % 1000000;//\r\n            if ( this._followers.length )\r\n                this._followers.forEach(( follower ) => {\r\n                    if ( !this.datas ) return;\r\n                    if ( typeof follower[0] == \"function\" ) {\r\n                        follower[0](this.datas);\r\n                    } else {\r\n                        cb && i++;\r\n                        follower[0].setState(\r\n                            (follower[1]) ?\r\n                            {[follower[1]] : this.datas}\r\n                                :\r\n                            this.datas,\r\n                            cb && (\r\n                                () => (!(--i) && cb())\r\n                            )\r\n                        );\r\n                    }\r\n                });\r\n\r\n            this.emit('stable', this.datas);\r\n            !i && cb && cb()\r\n        } else cb && this.then(cb)\r\n        return this;\r\n    }\r\n\r\n    destroy() {\r\n\r\n        if ( this._stabilizer )\r\n            clearTimeout(this._stabilizer);\r\n        if ( this._followers.length )\r\n            this._followers.forEach(\r\n                ( follower ) => {\r\n                    if ( typeof follower[0] !== \"function\" ) {\r\n                        if ( follower[0].stores )\r\n                            delete follower[0].stores[follower[1]];\r\n                    }\r\n                }\r\n            );\r\n        this._followers = null;\r\n        this.dead       = true;\r\n        if ( this.name && this.context[this.name] === this )\r\n            delete this.context[this.name];\r\n        this._revs = this.datas = this.state = this.context = null;\r\n        this.removeAllListeners();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Store.js",";(function (factory) {\n  if (typeof define === 'function' && define.amd)\n    define([], factory);\n  else if (typeof exports === 'object' && !!exports && !exports.nodeType)\n    if (typeof module === 'object' && !!module && module.exports)\n      module.exports = factory();\n    else\n      exports['default'] = factory();\n  else if (typeof YUI === 'function' && YUI.add)\n    YUI.add('is-string', function (Y) { Y['default'] = factory(); }, '1.0.7');\n  else\n    String.isString = factory();\n})(function () {\n  var strToString  = ('').toString,\n      hasBind      = Function.prototype && Function.prototype.bind,\n      strToStrCall = hasBind && strToString.call.bind(strToString),\n      isString     = function (str) {\n        /*@cc_on\n          @if (@_jscript_version >= 5) @*/\n            try {\n                hasBind ? strToStrCall(str) : strToString.call(str);\n                return true;\n            } catch (e) {\n                return false;\n            }\n          /*@end\n        @*/\n      };\n\n  return function (str) {\n    return  typeof str === 'string' ||\n            str && typeof str === 'object' &&\n            /*@cc_on\n              @if (@_jscript_version < 5.5)\n                /^\\s*function\\s*String\\(\\)\\s*{\\s*\\[native code\\]\\s*}\\s*$/.test(str.constructor)\n              @else @*/\n                isString(str)\n              /*@end\n            @*/\n            || false;\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isstring/isString.umd.js\n// module id = 181\n// module chunks = 0 1","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isarray/index.js\n// module id = 182\n// module chunks = 0 1","// if (typeof require !== 'undefined') {}\n\nvar isFunction = function (functionToCheck) {\n\tvar getType = {};\n\treturn functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n};\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = isFunction;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isfunction/lib/main.js\n// module id = 183\n// module chunks = 0 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/events/events.js\n// module id = 184\n// module chunks = 0 1","/**\r\n * @author Nathanael BRAUN\r\n *\r\n * Date: 03/12/2016\r\n * Time: 09:28\r\n */\r\nimport {Store} from \"../Rescope\";\r\nlet stubs = require(\"./_stubs/datas\");\r\n\r\nlet MyStoreContext = {\r\n    status      : class status extends Store {\r\n        static use = [\"session\"];\r\n    },\r\n    session     : class session extends Store {\r\n        static initialState = {\r\n            currentUserId : \"MrNice\"\r\n        };\r\n        // constructor(){\r\n        //     debugger;\r\n        //     super(...arguments)\r\n        // }\r\n        // refine( datas, newState, changes ) {\r\n        //     debugger\r\n        //     return newState;\r\n        // }\r\n    },\r\n    currentUser : class currentUser extends Store {\r\n        static use = [\"session\"];// list of source stores id\r\n\r\n        refine( datas, newState, changes ) {\r\n            let NewUserId  = newState.session && newState.session.currentUserId,\r\n                LastUserId = datas && datas._id;\r\n\r\n            console.info(\"currentUser state updated : \", changes);\r\n\r\n            if ( NewUserId != LastUserId ) {\r\n                this.wait();// don't propag until released\r\n                setTimeout(\r\n                    () => {\r\n                        // get the user record or whatever...\r\n                        this.push(\r\n                            {\r\n                                _id   : NewUserId,\r\n                                login : NewUserId\r\n                            },\r\n                            () => {\r\n                                this.context.status.setState({currentUser : JSON.stringify(this.datas)});\r\n                            }\r\n                        );\r\n\r\n                        this.release();\r\n                    },\r\n                    500\r\n                );\r\n                this.context.status.setState({currentUser : \"user id change ! doing some async...\"});\r\n            }\r\n\r\n\r\n            return datas;\r\n        }\r\n    },\r\n    userEvents  : class userEvents extends Store {\r\n        static use = [\"currentUser\"];// list of source stores id\r\n        static require = [\"currentUser\"];// list of source stores id\r\n        //\r\n        // shouldPropag( newDatas ) {\r\n        //     return !!newDatas.userId;\r\n        // }\r\n\r\n        refine( datas, newState, changes ) {\r\n            let nUserId = newState.currentUser && newState.currentUser._id,\r\n                cUserId = datas && datas.userId;\r\n\r\n\r\n            if ( nUserId != cUserId ) {\r\n                this.wait()// do some async\r\n                setTimeout(\r\n                    () => {\r\n                        // get somme user events or whatever...\r\n                        this.push(\r\n                            {\r\n                                userId       : nUserId,\r\n                                count        : stubs[nUserId].length,\r\n                                events       : stubs[nUserId],\r\n                                eventsByType : stubs[nUserId].reduce(\r\n                                    ( res, item ) => {\r\n                                        res[item.type] = res[item.type] || [res[item.type]];\r\n                                        res[item.type].push(item);\r\n                                        return res;\r\n                                    },\r\n                                    {}\r\n                                )\r\n                            },\r\n                            () => {\r\n                                this.context.status.setState({userEvents : \"\" + stubs[nUserId].length + \" events\"});\r\n                            });\r\n                        this.release();\r\n                    },\r\n                    500\r\n                );\r\n                this.context.status.setState({userEvents : \"user datas change ! doing some async...\"});\r\n            }\r\n\r\n            return datas;\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport default () => ({...MyStoreContext});\n\n\n// WEBPACK FOOTER //\n// ./src/example/StoresContext.js","/**\r\n * @author Nathanael BRAUN\r\n *\r\n * Date: 25/01/2017\r\n * Time: 09:16\r\n */\r\nexport default {\r\n    \"MrNice\" : [\r\n        {\r\n            type : \"event\",\r\n            text : \"nice event\"\r\n        },\r\n        {\r\n            type : \"news\",\r\n            text : \"nice news\"\r\n        },\r\n        {\r\n            type : \"poke\",\r\n            text : \"some poke\"\r\n        },\r\n        {\r\n            type : \"event\",\r\n            text : \"another event\"\r\n        },\r\n        {\r\n            type : \"comment\",\r\n            text : \"another comment\"\r\n        }\r\n    ],\r\n    \"MissTick\" : [\r\n        {\r\n            type : \"event\",\r\n            text : \"some events\"\r\n        },\r\n        {\r\n            type : \"news\",\r\n            text : \"some news\"\r\n        },\r\n        {\r\n            type : \"poke\",\r\n            text : \"some poke\"\r\n        },\r\n        {\r\n            type : \"event\",\r\n            text : \"another event\"\r\n        }\r\n    ]\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/example/_stubs/datas.js","/**\r\n * @author Nathanael BRAUN\r\n *\r\n * Date: 25/01/2017\r\n * Time: 11:08\r\n */\r\nimport Store from \"../../Rescope\";\r\nimport StoreContext from \"../StoresContext\";\r\nfunction NewsListComp( target = document.createElement('div') ) {\r\n\r\n    this.setState = ( state ) => {\r\n        target.innerHTML =\r\n            (\r\n                state.userEvents &&\r\n                state.userEvents.events\r\n                    .map(\r\n                        ( evt ) => `\r\n                                    <div style=\"border: solid 1px lightgrey;border-radius: 3px\">\r\n                                        <b><u><center>Event type : ${evt.type}</center></u></b>\r\n                                        <p>${evt.text}</p>\r\n                                    </div>`\r\n                    ).join()\r\n                || \"<b><u><center>Loading...</center></u></b>\"\r\n            );\r\n    };\r\n    this.node     = target;\r\n}\r\n\r\nwindow.StoreContext = StoreContext;\r\nwindow.NewsListComp = NewsListComp;\r\nexport default NewsListComp;\n\n\n// WEBPACK FOOTER //\n// ./src/example/vanilla/NewsListComp.js","module.exports = __webpack_public_path__ + \"example/vanilla/index.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/example/vanilla/index.html\n// module id = 190\n// module chunks = 1"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/bootstrap 2cbfd1d0db9b4b17d452?e700","webpack:///./src/Rescope.js?4e27","webpack:///./src/Store.js?6192","webpack:///./~/isstring/isString.umd.js?e454","webpack:///./~/isarray/index.js?eabc","webpack:///./~/isfunction/lib/main.js?b41e","webpack:///./~/events/events.js?7c71","webpack:///./~/shortid/index.js?5ae0","webpack:///./~/shortid/lib/index.js?00f7","webpack:///./~/shortid/lib/alphabet.js?cd47","webpack:///./~/shortid/lib/random/random-from-seed.js?547f","webpack:///./~/shortid/lib/encode.js?f2df","webpack:///./~/shortid/lib/random/random-byte-browser.js?6acb","webpack:///./~/shortid/lib/decode.js?7cfd","webpack:///./~/shortid/lib/build.js?6434","webpack:///./~/shortid/lib/is-valid.js?f445","webpack:///./~/shortid/lib/util/cluster-worker-id-browser.js?cb43","webpack:///./src/example/StoresContext.js?2569","webpack:///./src/example/_stubs/datas.js?a6e5","webpack:///./src/example/vanilla/NewsListComp.js","webpack:///./src/example/vanilla/index.html"],"names":["Context","context","cb","staticContext","stores","Object","keys","length","mountAllStore","pull","then","state","Rescope_factory","scope","Rescope","argz","constructor","_Rescope","Store","arguments","fetch","bind","map","window","e","isString","require","isArray","isFunction","EventEmitter","shortid","objProto","getPrototypeOf","scoped","name","store","component","origin","setInitial","targetRevs","_revs","targetContext","initialOutputs","filter","key","console","error","alias","defaultName","match","mountStore","hasOwnProperty","datas","mixedCWUnmount","unMountKey","isReactComponent","split","unBind","apply","skey","relink","_static","shift","cfg","watchs","use","refine","_uid","generate","setMaxListeners","defaultMaxListeners","locks","_onStabilize","warn","_watchs","_stable","_rev","_require","push","_followers","initialState","undefined","isComplete","nDatas","r","cDatas","follow","reduce","i","forEach","changes","__proto__","me","once","_stabilizer","clearTimeout","setTimeout","doWait","wait","s","release","force","nextState","_changesSW","nextDatas","shouldPropag","pState","sync","change","k","stabilize","from","obj","followers","splice","setState","previous","follower","emit","dead","removeAllListeners","autokill","stubs","MyStoreContext","status","appState","currentUserId","currentUser","NewUserId","LastUserId","_id","info","login","JSON","stringify","userEvents","nUserId","cUserId","userId","count","events","eventsByType","res","item","type","text","NewsListComp","target","document","createElement","innerHTML","evt","join","node","StoreContext"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC7SA;AACA;;;;;;;;ACDA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjGA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACxBA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AClBA;;AAEA,+EAA8E;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACbA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AC/CA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AClBA;;AAEA;;;;;;;;;;;;;;;;;;uECFA;;;;;;;;AAMA;;;;;;;;AAEA,KAAIwG,QAAQ,mBAAAhG,CAAQ,GAAR,CAAZ;;AAEA,KAAIiG,iBAAiB;AACjBC;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,+BACW3D,GADX,GACiB,CAAC,UAAD,CADjB,QADiB;AAIjB4D;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,gCACW7C,YADX,GAC0B;AAClB8C,wBAAgB;AADE,MAD1B,SAJiB;AAqBjBC;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAC8B;;AAD9B,oCAGY3E,KAHZ,QAG6DsC,OAH7D,EAGuE;AAAA;;AAAA,qBAAvBsC,SAAuB,QAAnDH,QAAmD,CAAvCC,aAAuC;;AAC/D,qBAAIG,aAAa7E,SAASA,MAAM8E,GAAhC;;AAEArF,yBAAQsF,IAAR,CAAa,8BAAb,EAA6CzC,OAA7C;;AAEA,qBAAKsC,aAAaC,UAAlB,EAA+B;AAC3B,0BAAK/B,IAAL,GAD2B,CACf;AACZF,gCACI,YAAM;AACF;AACA,gCAAKlB,IAAL,CACI;AACIoD,kCAAQF,SADZ;AAEII,oCAAQJ;AAFZ,0BADJ,EAKI,YAAM;AACF,oCAAK/H,OAAL,CAAa2H,MAAb,CAAoBT,QAApB,CAA6B,EAACY,aAAcM,KAAKC,SAAL,CAAe,OAAKlF,KAApB,CAAf,EAA7B;AACH,0BAPL;;AAUA,gCAAKgD,OAAL;AACH,sBAdL,EAeI,GAfJ;AAiBA,0BAAKnG,OAAL,CAAa2H,MAAb,CAAoBT,QAApB,CAA6B,EAACY,aAAc,sCAAf,EAA7B;AACH;;AAGD,wBAAO3E,KAAP;AACH;AAhCL;;AAAA;AAAA,gCACWa,GADX,GACiB,CAAC,UAAD,CADjB,SArBiB;AAuDjBsE;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA,6MAGInF,KAHJ,GAGY,EAHZ;AAAA;;AAAA;AAAA;AAAA,oCAKYA,KALZ,SAKoDsC,OALpD,EAK8D;AAAA;;AAAA,qBAArB8C,OAAqB,SAA1CT,WAA0C,CAA3BG,GAA2B;AAAA,sCAC7B9E,KAD6B,CACjDqF,OADiD;AAAA,qBACjDA,OADiD,kCACvC,KAAK,CADkC;;;AAItD,qBAAKD,WAAWC,OAAhB,EAA0B;AACtB,0BAAKvC,IAAL,GADsB,CACV;AACZF,gCACI,YAAM;AACF;AACA,gCAAKlB,IAAL,CACI;AACI4D,qCAAeF,OADnB;AAEIG,oCAAejB,MAAMc,OAAN,EAAejI,MAFlC;AAGIqI,qCAAelB,MAAMc,OAAN,CAHnB;AAIIK,2CAAenB,MAAMc,OAAN,EAAejD,MAAf,CACX,UAAEuD,GAAF,EAAOC,IAAP,EAAiB;AACbD,qCAAIC,KAAKC,IAAT,IAAiBF,IAAIC,KAAKC,IAAT,KAAkB,CAACF,IAAIC,KAAKC,IAAT,CAAD,CAAnC;AACAF,qCAAIC,KAAKC,IAAT,EAAelE,IAAf,CAAoBiE,IAApB;AACA,wCAAOD,GAAP;AACH,8BALU,EAMX,EANW;AAJnB,0BADJ,EAcI,YAAM;AACF,oCAAK7I,OAAL,CAAa2H,MAAb,CAAoBT,QAApB,CAA6B,EAACoB,YAAa,KAAKb,MAAMc,OAAN,EAAejI,MAApB,GAA6B,SAA3C,EAA7B;AACH,0BAhBL;AAiBA,gCAAK6F,OAAL;AACH,sBArBL,EAsBI,GAtBJ;AAwBA,0BAAKnG,OAAL,CAAa2H,MAAb,CAAoBT,QAApB,CAA6B,EAACoB,YAAa,yCAAd,EAA7B;AACH;;AAED,wBAAOnF,KAAP;AACH;AAvCL;;AAAA;AAAA,gCACWa,GADX,GACiB,CAAC,aAAD,CADjB,UAEWvC,OAFX,GAEqB,CAAC,aAAD,CAFrB;AAvDiB,EAArB;;mBAmGe;AAAA,yBAAWiG,cAAX;AAAA,E;;;;;;;;;;;;;;AC7Gf;;;;;;mBAMe;AACX,eAAW,CACP;AACIqB,eAAO,OADX;AAEIC,eAAO;AAFX,MADO,EAKP;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MALO,EASP;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MATO,EAaP;AACID,eAAO,OADX;AAEIC,eAAO;AAFX,MAbO,EAiBP;AACID,eAAO,SADX;AAEIC,eAAO;AAFX,MAjBO,CADA;AAuBX,iBAAa,CACT;AACID,eAAO,OADX;AAEIC,eAAO;AAFX,MADS,EAKT;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MALS,EAST;AACID,eAAO,MADX;AAEIC,eAAO;AAFX,MATS,EAaT;AACID,eAAO,OADX;AAEIC,eAAO;AAFX,MAbS;AAvBF,E;;;;;;;;;;;;;;ACAf;;;;AACA;;;;;;AAPA;;;;;;AAQA,UAASC,YAAT,GAAgE;AAAA,SAAzCC,MAAyC,uEAAhCC,SAASC,aAAT,CAAuB,KAAvB,CAAgC;;;AAE5D,UAAKlC,QAAL,GAAgB,UAAExG,KAAF,EAAa;AACzBwI,gBAAOG,SAAP,GAEQ3I,MAAM4H,UAAN,IACA5H,MAAM4H,UAAN,CAAiBK,MAAjB,CACKtH,GADL,CAEQ,UAAEiI,GAAF;AAAA,kMAE6CA,IAAIP,IAFjD,sEAGqBO,IAAIN,IAHzB;AAAA,UAFR,EAOMO,IAPN,EADA,IASG,2CAXX;AAaH,MAdD;AAeA,UAAKC,IAAL,GAAgBN,MAAhB;AACH;;AAED5H,QAAOmI,YAAP;AACAnI,QAAO2H,YAAP,GAAsBA,YAAtB;mBACeA,Y;;;;;;;;AC9Bf,uE","file":"example/vanilla/NewsListComp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2cbfd1d0db9b4b17d452","import Store from \"./Store\";\r\n\r\nclass Context extends Store {\r\n    // constructor() {\r\n    // super(argz[0], ...arguments)\r\n    // }\r\n    fork( context, cb ) {\r\n\r\n    }\r\n    fetch( context, cb ) {\r\n        context    = context || Store.staticContext;\r\n        let stores = Object.keys(context);\r\n        if ( !stores.length )\r\n            return cb(null, context);\r\n        let mountAllStore = new Store(context);\r\n        mountAllStore.pull(stores, true);\r\n        mountAllStore.then(( state ) => cb(null, state, context));\r\n    }\r\n}\r\n\r\n\r\nlet Rescope_factory = function Rescope_factory( scope ) {\r\n        return function Rescope( ...argz ) {\r\n            if ( this && this.constructor === Rescope )// using new\r\n            {\r\n                let _Rescope     = Rescope_factory(argz[0]);\r\n                _Rescope.Store   = class ContextualStore extends Store {\r\n                    constructor() {\r\n                        super(argz[0], ...arguments)\r\n                    }\r\n                };\r\n                _Rescope.fetch   = fetch.bind(_Rescope, argz[0]);\r\n                _Rescope.context = argz[0] || Store.staticContext;\r\n                return _Rescope;\r\n            } else {\r\n                return Store.map(argz[0], argz[1], scope, null, argz[2])\r\n            }\r\n        }\r\n    },\r\n    // setContext      = function setContext( context ) {\r\n    //\r\n    // },\r\n    fetch           = function fetch( context, cb ) {\r\n        context    = context || Store.staticContext;\r\n        let stores = Object.keys(context);\r\n        if ( !stores.length )\r\n            return cb(null, context);\r\n        let mountAllStore = new Store(context);\r\n        mountAllStore.pull(stores, true);\r\n        mountAllStore.then(( state ) => cb(null, state, context));\r\n    },\r\n    Rescope         = Rescope_factory(null);\r\n\r\nRescope.Store   = Store;\r\nRescope.fetch   = ( cb ) => fetch(Store.staticContext, cb);\r\nRescope.context = Store.staticContext;\r\ntry {\r\n    if ( typeof window != 'undefined' ) {\r\n        window.Rescope = Rescope;\r\n    }\r\n} catch (e) {\r\n\r\n}\r\n\r\nexport default Rescope;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Rescope.js","/**\r\n * Ultra scalable state-aware store\r\n *\r\n * @todo : lot of optims...\r\n */\r\n\r\nvar isString     = require('isstring')\r\n    , isArray    = require('isarray')\r\n    , isFunction = require('isfunction')\r\n    ,\r\n    EventEmitter = require('events'),\r\n    shortid      = require('shortid'),\r\n    objProto     = Object.getPrototypeOf({}),\r\n    scoped       = {};\r\n\r\n\r\nexport default class Store extends EventEmitter {\r\n\r\n    static use                 = [];// overridable list of source stores\r\n    static follow;// overridable list of store that will allow push if updated\r\n    static require;\r\n    static staticContext       = {};\r\n    static initialState        = undefined;// default state\r\n    static defaultMaxListeners = 20;\r\n    static autokill            = false;// false or tm without followers\r\n\r\n    /**\r\n     * get a Builder-key pair for Store::map\r\n     * @param {string} name\r\n     * @returns {{store: Store, name: *}}\r\n     */\r\n    static as( name ) {\r\n        return {store : this, name};\r\n    }\r\n\r\n    /**\r\n     * Map all named stores in {keys} to the {object}'s state\r\n     * Hook componentWillUnmount (for react comp) or destroy to unBind them automatically\r\n     * @static\r\n     * @param object {React.Component|Store|...} target state aware object\r\n     * @param keys {Array} Ex : [\"session\", \"otherStaticNamedStore:key\", store.as('anotherKey')]\r\n     */\r\n    static map( component, keys, context, origin, setInitial = false ) {\r\n        var targetRevs     = component._revs || {};\r\n        var targetContext  = component.stores || (component.stores = {});\r\n        var initialOutputs = {};\r\n        keys               = isArray(keys) ? [...keys] : [keys];\r\n\r\n        context        = context || Store.staticContext;\r\n        keys           = keys.filter(\r\n            // @todo : use query refs\r\n            // (store)(\\.store)*(\\[(\\*|(props)\\w+)+)\\])?(\\:alias)\r\n            ( key ) => {\r\n                if ( !key ) {\r\n                    console.error(\"Not a mappable store item '\" + key + \"' in \" + origin + ' !!');\r\n                    return false;\r\n                }\r\n                let name,\r\n                    alias,\r\n                    store;\r\n                if ( key.store && key.name ) {\r\n                    alias = name = key.name;\r\n                    store = key.store;\r\n                } else if ( isFunction(key) ) {\r\n                    name = alias = key.name || key.defaultName;\r\n                    store = key;\r\n                } else {\r\n                    key   = key.match(/([\\w_]+)(?:\\:\\[(\\*)\\])?(?:\\:(\\*))?/);\r\n                    name  = key[0];\r\n                    store = context[key[0]];\r\n                    alias = key[1] == '*' ? null : key[2] || key[0];// allow binding props  ([*])\r\n                }\r\n\r\n                if ( targetRevs[name] ) return false;// ignore dbl uses for now\r\n                if ( !store ) {\r\n                    console.error(\"Not a mappable store item '\" + name + \"/\" + alias + \"' in \" + origin + ' !!', store);\r\n                    return false;\r\n                } else if ( isFunction(store) ) {\r\n                    this.mountStore(name, context)\r\n\r\n                    context[name].bind(component, alias, setInitial);\r\n                    // if ( context[key[0]].state ) {// do sync push after constructor\r\n                    //     context[key[0]].push();\r\n                    // }\r\n                } else {\r\n                    store.bind(component, alias, setInitial);\r\n                }\r\n                targetRevs[alias]    = targetRevs[alias] || true;\r\n                targetContext[alias] = targetContext[alias] || context[name];\r\n                if ( context[name].hasOwnProperty('datas') )\r\n                    initialOutputs[alias] = context[name].datas;\r\n                return true;\r\n            }\r\n        );\r\n        var mixedCWUnmount,\r\n            unMountKey = component.isReactComponent ? \"componentWillUnmount\" : \"destroy\";\r\n\r\n        if ( component.hasOwnProperty(unMountKey) ) {\r\n            mixedCWUnmount = component[unMountKey];\r\n        }\r\n\r\n        component[unMountKey] = function () {// todo hop\r\n            delete this[unMountKey];\r\n            if ( mixedCWUnmount )\r\n                this[unMountKey] = mixedCWUnmount;\r\n            keys.map(\r\n                ( key ) => {\r\n                    let name,\r\n                        alias,\r\n                        store;\r\n                    if ( key.store && key.name ) {\r\n                        alias = name = key.name;\r\n                        store = key.store;\r\n                    } else if ( isFunction(key) ) {\r\n                        name = alias = key.name || key.defaultName;\r\n                        store = context[name];\r\n                    } else {\r\n                        key   = key.split(':');\r\n                        name  = key[0];\r\n                        store = context[key[0]];\r\n                        alias = key[1] || key[0];\r\n                    }\r\n\r\n                    store.unBind(component, alias)\r\n                }\r\n            );\r\n            return this[unMountKey] && this[unMountKey].apply(this, arguments);\r\n        }\r\n\r\n        return initialOutputs;\r\n    }\r\n\r\n    static mountStore( name, context ) {\r\n        let store = context[name], skey;\r\n        if ( !store ) {\r\n            console.error(\"Not a mappable store item '\" + name + ' !!', store);\r\n            return false;\r\n        } else if ( isFunction(store) ) {\r\n            //\r\n            // if ( store && store.scope ) {\r\n            //     skey = \"!\"+store.scope.map(id => {\r\n            //         // console.log(\"try\", id, context[id]);\r\n            //         this.mountStore(id, context);\r\n            //         // console.log(\"try\", id, context[id]);\r\n            //         return context[id] && context[id]._uid || id;\r\n            //     }).join('-');\r\n            //\r\n            //\r\n            //     if (scoped[skey]){\r\n            //         console.log(\"keep scoped\", skey);\r\n            //         store = context[name] = scoped[skey];\r\n            //     }else{\r\n            //         console.log(\"create scoped\", skey);\r\n            //         store = context[name] = scoped[skey] = new store(context);\r\n            //         context[name].relink(name);\r\n            //         return store;\r\n            //     }\r\n            // }\r\n            store = context[name] = new store(context);\r\n            context[name].relink(name);\r\n        }\r\n        return store;\r\n    }\r\n\r\n    /**\r\n     * Constructor, will build a rescope store\r\n     *\r\n     * (context, {require,use,refine,state, datas})\r\n     * (context)\r\n     *\r\n     * @param context {object} context where to find the other stores (default : static staticContext )\r\n     * @param keys {Array} (passed to Store::map) Ex : [\"session\", \"otherNamedStore:key\", otherStore.as(\"otherKey\")]\r\n     */\r\n    constructor() {\r\n        super();\r\n        var argz    = [...arguments],\r\n            _static = this.constructor,\r\n            context = !isArray(argz[0]) && !isString(argz[0]) ? argz.shift() : _static.staticContext,\r\n            cfg     = argz[0] && !isArray(argz[0]) && !isString(argz[0]) ? argz.shift() : {},\r\n            name    = isString(argz[0]) ? argz[0] : cfg.name || _static.name,\r\n            watchs  = isArray(argz[0]) ? argz.shift() : cfg.use || [],// watchs need to be defined after all the store are registered : so we can't deal with any \"static use\" automaticly\r\n            refine  = isFunction(argz[0]) ? argz.shift() : cfg.refine || null\r\n        ;\r\n        this._uid   = cfg._uid || shortid.generate();\r\n        this.setMaxListeners(Store.defaultMaxListeners);\r\n        this.locks        = 0;\r\n        this._onStabilize = [];\r\n\r\n        if ( isString(argz[0]) ) {\r\n            if ( context[name] )\r\n                console.warn(\"ReScope: Overwriting an existing static named store ( %s ) !!\", name);\r\n            context[name] = this;\r\n        }\r\n\r\n        // this.state      = this.state || {};\r\n\r\n        this._watchs  = watchs;\r\n        this.name     = name;\r\n        this.context  = context;\r\n        this._stable  = true;\r\n        this._rev     = 1;\r\n        this._revs    = {};\r\n        this.stores   = {};\r\n        this._require = [];\r\n\r\n        if ( _static.require )\r\n            this._require.push(..._static.require);\r\n        if ( cfg.require )\r\n            this._require.push(...cfg.require);\r\n\r\n        this._followers = [];\r\n\r\n        if ( cfg.hasOwnProperty(\"datas\") )\r\n            this.datas = cfg.datas;\r\n        if ( cfg.hasOwnProperty(\"state\") )\r\n            this.state = cfg.state;\r\n\r\n        if ( refine )\r\n            this.refine = refine;\r\n\r\n        if ( !!this._watchs ) {// if there initial watchs anyway\r\n            this.pull(this._watchs);\r\n        }\r\n\r\n        if ( _static.initialState && this.datas === undefined ) {// sync refine\r\n            this.state = {..._static.initialState};\r\n            if ( this.isComplete() )\r\n                this.datas = this.refine(this.datas, this.state, this.state);\r\n        }\r\n        this._stable = this.datas !== undefined;// stable if it have initial result datas\r\n    }\r\n\r\n    /**\r\n     * Overridable method to know if a state change should be propag to the listening stores & components\r\n     * If static follow is defined, shouldPropag will return true if any of the \"follow\" keys was updated\r\n     * If not it will always return true\r\n     */\r\n    shouldPropag( nDatas ) {\r\n        var _static = this.constructor, r,\r\n            cDatas  = this.datas;\r\n\r\n        // if ( !cState )\r\n        //     return true;\r\n        if ( !cDatas && (!_static.follow || !_static.follow.length ||\r\n                _static.follow && _static.follow.reduce(( r, i ) => (r || nDatas && nDatas[i]), false)) )\r\n            return true;\r\n\r\n        if ( isArray(_static.follow) )\r\n            _static.follow.forEach(\r\n                ( key ) => {\r\n                    r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\r\n                }\r\n            );\r\n        else if ( _static.follow === 'strict' )\r\n            r = nDatas === cDatas;\r\n        else {\r\n            cDatas && Object.keys(cDatas).forEach(\r\n                ( key ) => {\r\n                    r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\r\n                }\r\n            );\r\n            nDatas && Object.keys(nDatas).forEach(\r\n                ( key ) => {\r\n                    r = r || (nDatas ? cDatas[key] !== nDatas[key] : cDatas && cDatas[key])\r\n                }\r\n            );\r\n        }\r\n\r\n        return !!r;\r\n    }\r\n\r\n    /**\r\n     * Overridable refiner / remapper\r\n     * If state or lastPublicState are simple hash maps refine will return {...datas, ...state}\r\n     * if not it will return the last private state\r\n     * @param datas\r\n     * @param state\r\n     * @returns {*}\r\n     */\r\n    refine( datas, state, changes ) {\r\n        state = state || this.state;\r\n\r\n        if ( !datas || datas.__proto__ !== objProto || state.__proto__ !== objProto )\r\n            return state;\r\n        else\r\n            return {...datas, ...state}\r\n    }\r\n\r\n    /**\r\n     * Debounce this store propagation ( & reducing )\r\n     * @param cb\r\n     */\r\n    stabilize( cb ) {\r\n        var me = this;\r\n        cb && me.once('stable', cb);\r\n        me._stable = false;\r\n\r\n        if ( this._stabilizer )\r\n            clearTimeout(this._stabilizer);\r\n\r\n        this._stabilizer = setTimeout(\r\n            this.push.bind(\r\n                this,\r\n                null,\r\n                () => {//@todo\r\n                    // me._stable       = true;\r\n                    this._stabilizer = null;\r\n                    // this.release();\r\n                }\r\n            ));\r\n    }\r\n\r\n\r\n    /**\r\n     * Pull stores in the private state\r\n     * @param stores  {Array} (passed to Store::map) Ex : [\"session\", \"otherNamedStore:key\", otherStore.as(\"otherKey\")]\r\n     */\r\n    pull( stores, doWait, origin ) {\r\n        let initialOutputs = Store.map(this, stores, this.context, origin, true);\r\n        if ( doWait ) {\r\n            this.wait();\r\n            stores.forEach(( s ) => this.context[s] && this.wait(this.context[s]));\r\n            this.release();\r\n        }\r\n        return initialOutputs;\r\n    }\r\n\r\n    /**\r\n     * Apply refine/remap on the private state & push the resulting \"public\" state to followers\r\n     * @param cb\r\n     */\r\n    push( datas, force, cb ) {\r\n        cb            = force === true ? cb : force;\r\n        force         = force === true;\r\n        var i         = 0,\r\n            me        = this,\r\n            nextState = !datas && {...this.state, ...this._changesSW} || this.state,\r\n            nextDatas = datas ||\r\n                (this.isComplete(nextState) ? this.refine(this.datas, nextState, this._changesSW) : this.datas);\r\n\r\n\r\n        this.state = nextState;\r\n        if ( !force &&\r\n            (\r\n                (!this.datas && this.datas === nextDatas) || !this.shouldPropag(nextDatas)\r\n            )\r\n        ) {\r\n            cb && cb();\r\n            return false;\r\n        }\r\n\r\n        this.datas = nextDatas;\r\n        this.locks++;\r\n        this.release(cb);\r\n\r\n    }\r\n\r\n    /**\r\n     * Update the current private state & push it once the store is stable\r\n     * @param pState\r\n     * @param cb\r\n     */\r\n    setState( pState, cb, sync ) {\r\n        var i       = 0, change,\r\n            changes = this._changesSW = this._changesSW || {};\r\n        for ( var k in pState )\r\n            if ( !this.state || pState.hasOwnProperty(k)\r\n                && (\r\n                    pState[k] != this.state[k]\r\n                    ||\r\n                    (this.state[k] && pState[k] && (pState[k]._rev != this._revs[k]))// rev/hash update\r\n                ) ) {\r\n                change        = true;\r\n                this._revs[k] = pState[k] && pState[k]._rev || true;\r\n                changes[k]    = pState[k];\r\n            }\r\n        if ( sync ) {\r\n            this.push();\r\n            cb && cb();\r\n\r\n        } else {\r\n            if ( change ) {\r\n                this.stabilize(cb);\r\n            } else cb && cb();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update the current private state & push it once the store is stable\r\n     * @param pState\r\n     * @param cb\r\n     */\r\n    setStateSync( pState ) {\r\n        var i       = 0, change,\r\n            changes = this._changesSW = this._changesSW || {};\r\n        for ( var k in pState )\r\n            if ( !this.state || pState.hasOwnProperty(k)\r\n                && (\r\n                    pState[k] != this.state[k]\r\n                    ||\r\n                    (this.state[k] && pState[k] && (pState[k]._rev != this._revs[k]))// rev/hash update\r\n                ) ) {\r\n                change        = true;\r\n                this._revs[k] = pState[k] && pState[k]._rev || true;\r\n                changes[k]    = pState[k];\r\n            }\r\n        this.push();\r\n        return this.datas;\r\n    }\r\n\r\n    /**\r\n     * Replace the current private state & push it once the store is stable\r\n     * @param pState\r\n     * @param cb\r\n     */\r\n    replaceState( pState, cb ) {\r\n        var i      = 0, me = this;\r\n        this.state = pState;\r\n\r\n        this.stabilize(cb);\r\n    }\r\n\r\n    /**\r\n     * get a store-key pair for Store::map\r\n     * @param {string} name\r\n     * @returns {{store: Store, name: *}}\r\n     */\r\n    as( name ) {\r\n        return {store : this, name};\r\n    }\r\n\r\n    /**\r\n     * relink bindings & requires\r\n     * @param {string} name\r\n     * @returns {{store: Store, name: *}}\r\n     */\r\n    relink( from ) {\r\n        let context = this.context,\r\n            _static = this.constructor;\r\n        if ( _static.use ) {\r\n            //todo unlink\r\n            this.pull(_static.use, false, from);\r\n        }\r\n\r\n        if ( this._require ) {\r\n            this._require.forEach(\r\n                store => (\r\n                    this.wait(context[store])\r\n                )\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * is complete (all requiered keys are here)\r\n     * @returns bool\r\n     */\r\n    isComplete( state = this.state ) {\r\n        var _static = this.constructor;\r\n        return (\r\n            !this._require\r\n            || !this._require.length\r\n            || state && this._require.reduce(\r\n                ( r, key ) => (r && state[key]),\r\n                true\r\n            )\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Un bind this store off the given component-key\r\n     * @param obj\r\n     * @param key\r\n     * @returns {Array.<*>}\r\n     */\r\n    unBind( obj, key ) {\r\n        var followers = this._followers,\r\n            i         = followers && followers.length;\r\n        while (followers && i--)\r\n            if ( followers[i][0] == obj && followers[i][1] == key )\r\n                return followers.splice(i, 1);\r\n    }\r\n\r\n    /**\r\n     * Bind this store changes to the given component-key\r\n     * @param obj {React.Component|Store|function)\r\n     * @param key {string} optional key where to map the public state\r\n     */\r\n    bind( obj, key, setInitial = true ) {\r\n        this._followers.push([obj, key]);\r\n        if ( setInitial && this.datas && this._stable ) {\r\n            if ( typeof obj != \"function\" ) {\r\n                if ( key ) obj.setState({[key] : this.datas});\r\n                else obj.setState(this.datas);\r\n            } else {\r\n                obj(this.datas);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * once('stable', cb)\r\n     * @param obj {React.Component|Store|function)\r\n     * @param key {string} optional key where to map the public state\r\n     */\r\n    then( cb ) {\r\n        if ( this._stable )\r\n            return cb(this.datas);\r\n        this.once('stable', cb);\r\n    }\r\n\r\n    /**\r\n     * Add a lock so the store will not propag it state untill release() is call\r\n     * @param previous {Store|number|Array} @optional wf to wait, releases to wait or array of stuff to wait\r\n     * @returns {TaskFlow}\r\n     */\r\n    wait( previous ) {\r\n        if ( typeof previous == \"number\" )\r\n            return this.locks += previous;\r\n        if ( isArray(previous) )\r\n            return previous.map(this.wait.bind(this));\r\n\r\n\r\n        this._stable = false;\r\n        this.locks++;\r\n        if ( previous && isFunction(previous.then) ) {\r\n            previous.then(this.release.bind(this, null));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Decrease locks for this store, if it reach 0 & it have a public state,\r\n     * it will be propagated to the followers,\r\n     * then, all stuff passed to \"then\" call back will be exec / released\r\n     * @param desync\r\n     * @returns {*}\r\n     */\r\n    release( cb ) {\r\n        var _static = this.constructor;\r\n        let i       = 0;\r\n\r\n        if ( !--this.locks && this.datas && this.isComplete() ) {\r\n            this._stable = true;\r\n\r\n\r\n            this._rev = 1 + (this._rev + 1) % 1000000;//\r\n            if ( this._followers.length )\r\n                this._followers.forEach(( follower ) => {\r\n                    if ( !this.datas ) return;\r\n                    if ( typeof follower[0] == \"function\" ) {\r\n                        follower[0](this.datas);\r\n                    } else {\r\n                        // cb && i++;\r\n                        follower[0].setState(\r\n                            (follower[1]) ?\r\n                            {[follower[1]] : this.datas}\r\n                                :\r\n                            this.datas\r\n                            // ,\r\n                            // cb && (\r\n                            //     () => (!(--i) && cb())\r\n                            // )\r\n                        );\r\n                    }\r\n                });\r\n\r\n            this.emit('stable', this.datas);\r\n            cb && cb()\r\n        } else cb && this.then(cb)\r\n        return this;\r\n    }\r\n\r\n    destroy() {\r\n\r\n        this.emit('destroy', this);\r\n        if ( this._stabilizer )\r\n            clearTimeout(this._stabilizer);\r\n        if ( this._followers.length )\r\n            this._followers.forEach(\r\n                ( follower ) => {\r\n                    if ( typeof follower[0] !== \"function\" ) {\r\n                        if ( follower[0].stores )\r\n                            delete follower[0].stores[follower[1]];\r\n                    }\r\n                }\r\n            );\r\n        this._followers.length = 0;\r\n        this.dead       = true;\r\n        if ( this.name && this.context[this.name] === this )\r\n            delete this.context[this.name];\r\n        this._revs = this.datas = this.state = this.context = null;\r\n        this.removeAllListeners();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Store.js",";(function (factory) {\n  if (typeof define === 'function' && define.amd)\n    define([], factory);\n  else if (typeof exports === 'object' && !!exports && !exports.nodeType)\n    if (typeof module === 'object' && !!module && module.exports)\n      module.exports = factory();\n    else\n      exports['default'] = factory();\n  else if (typeof YUI === 'function' && YUI.add)\n    YUI.add('is-string', function (Y) { Y['default'] = factory(); }, '1.0.7');\n  else\n    String.isString = factory();\n})(function () {\n  var strToString  = ('').toString,\n      hasBind      = Function.prototype && Function.prototype.bind,\n      strToStrCall = hasBind && strToString.call.bind(strToString),\n      isString     = function (str) {\n        /*@cc_on\n          @if (@_jscript_version >= 5) @*/\n            try {\n                hasBind ? strToStrCall(str) : strToString.call(str);\n                return true;\n            } catch (e) {\n                return false;\n            }\n          /*@end\n        @*/\n      };\n\n  return function (str) {\n    return  typeof str === 'string' ||\n            str && typeof str === 'object' &&\n            /*@cc_on\n              @if (@_jscript_version < 5.5)\n                /^\\s*function\\s*String\\(\\)\\s*{\\s*\\[native code\\]\\s*}\\s*$/.test(str.constructor)\n              @else @*/\n                isString(str)\n              /*@end\n            @*/\n            || false;\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isstring/isString.umd.js\n// module id = 187\n// module chunks = 0 1","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isarray/index.js\n// module id = 188\n// module chunks = 0 1","// if (typeof require !== 'undefined') {}\n\nvar isFunction = function (functionToCheck) {\n\tvar getType = {};\n\treturn functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n};\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = isFunction;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isfunction/lib/main.js\n// module id = 189\n// module chunks = 0 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/events/events.js\n// module id = 190\n// module chunks = 0 1","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/index.js\n// module id = 191\n// module chunks = 0 1","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/index.js\n// module id = 192\n// module chunks = 0 1","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/alphabet.js\n// module id = 193\n// module chunks = 0 1","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/random/random-from-seed.js\n// module id = 194\n// module chunks = 0 1","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/encode.js\n// module id = 195\n// module chunks = 0 1","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/random/random-byte-browser.js\n// module id = 196\n// module chunks = 0 1","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/decode.js\n// module id = 197\n// module chunks = 0 1","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/build.js\n// module id = 198\n// module chunks = 0 1","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/is-valid.js\n// module id = 199\n// module chunks = 0 1","'use strict';\n\nmodule.exports = 0;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/util/cluster-worker-id-browser.js\n// module id = 200\n// module chunks = 0 1","/**\r\n * @author Nathanael BRAUN\r\n *\r\n * Date: 03/12/2016\r\n * Time: 09:28\r\n */\r\nimport {Store} from \"../Rescope\";\r\n\r\nlet stubs = require(\"./_stubs/datas\");\r\n\r\nlet MyStoreContext = {\r\n    status      : class status extends Store {\r\n        static use = [\"appState\"];\r\n    },\r\n    appState    : class appState extends Store {\r\n        static initialState = {\r\n            currentUserId : \"MrNice\"\r\n        };\r\n\r\n        // constructor() {\r\n        //     super(...arguments);\r\n        //     browserHistory.listen(( location, action ) => {\r\n        //\r\n        //     });\r\n        // }\r\n\r\n        // refine( datas, newState, changes ) {\r\n        //     // do some routing (map on url)\r\n        //     return newState;\r\n        // }\r\n    },\r\n    currentUser : class currentUser extends Store {\r\n        static use = [\"appState\"];// list of source stores id\r\n\r\n        refine( datas, {appState : {currentUserId : NewUserId}}, changes ) {\r\n            let LastUserId = datas && datas._id;\r\n\r\n            console.info(\"currentUser state updated : \", changes);\r\n\r\n            if ( NewUserId != LastUserId ) {\r\n                this.wait();// don't propag until released\r\n                setTimeout(\r\n                    () => {\r\n                        // get the user record or whatever...\r\n                        this.push(\r\n                            {\r\n                                _id   : NewUserId,\r\n                                login : NewUserId\r\n                            },\r\n                            () => {\r\n                                this.context.status.setState({currentUser : JSON.stringify(this.datas)});\r\n                            }\r\n                        );\r\n\r\n                        this.release();\r\n                    },\r\n                    500\r\n                );\r\n                this.context.status.setState({currentUser : \"user id change ! doing some async...\"});\r\n            }\r\n\r\n\r\n            return datas;\r\n        }\r\n    },\r\n    userEvents  : class userEvents extends Store {\r\n        static use = [\"currentUser\"];\r\n        static require = [\"currentUser\"];\r\n        datas = {};\r\n\r\n        refine( datas, {currentUser : {_id : nUserId}}, changes ) {\r\n            let {cUserId = void 0} = datas;\r\n\r\n\r\n            if ( nUserId != cUserId ) {\r\n                this.wait();// do some async whithout pushing\r\n                setTimeout(\r\n                    () => {\r\n                        // get somme user events or whatever...\r\n                        this.push(\r\n                            {\r\n                                userId       : nUserId,\r\n                                count        : stubs[nUserId].length,\r\n                                events       : stubs[nUserId],\r\n                                eventsByType : stubs[nUserId].reduce(\r\n                                    ( res, item ) => {\r\n                                        res[item.type] = res[item.type] || [res[item.type]];\r\n                                        res[item.type].push(item);\r\n                                        return res;\r\n                                    },\r\n                                    {}\r\n                                )\r\n                            },\r\n                            () => {\r\n                                this.context.status.setState({userEvents : \"\" + stubs[nUserId].length + \" events\"});\r\n                            });\r\n                        this.release();\r\n                    },\r\n                    500\r\n                );\r\n                this.context.status.setState({userEvents : \"user datas change ! doing some async...\"});\r\n            }\r\n\r\n            return datas;\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport default () => ({...MyStoreContext});\n\n\n// WEBPACK FOOTER //\n// ./src/example/StoresContext.js","/**\r\n * @author Nathanael BRAUN\r\n *\r\n * Date: 25/01/2017\r\n * Time: 09:16\r\n */\r\nexport default {\r\n    \"MrNice\" : [\r\n        {\r\n            type : \"event\",\r\n            text : \"nice event\"\r\n        },\r\n        {\r\n            type : \"news\",\r\n            text : \"nice news\"\r\n        },\r\n        {\r\n            type : \"poke\",\r\n            text : \"some poke\"\r\n        },\r\n        {\r\n            type : \"event\",\r\n            text : \"another event\"\r\n        },\r\n        {\r\n            type : \"comment\",\r\n            text : \"another comment\"\r\n        }\r\n    ],\r\n    \"MissTick\" : [\r\n        {\r\n            type : \"event\",\r\n            text : \"some events\"\r\n        },\r\n        {\r\n            type : \"news\",\r\n            text : \"some news\"\r\n        },\r\n        {\r\n            type : \"poke\",\r\n            text : \"some poke\"\r\n        },\r\n        {\r\n            type : \"event\",\r\n            text : \"another event\"\r\n        }\r\n    ]\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/example/_stubs/datas.js","/**\r\n * @author Nathanael BRAUN\r\n *\r\n * Date: 25/01/2017\r\n * Time: 11:08\r\n */\r\nimport Store from \"../../Rescope\";\r\nimport StoreContext from \"../StoresContext\";\r\nfunction NewsListComp( target = document.createElement('div') ) {\r\n\r\n    this.setState = ( state ) => {\r\n        target.innerHTML =\r\n            (\r\n                state.userEvents &&\r\n                state.userEvents.events\r\n                    .map(\r\n                        ( evt ) => `\r\n                                    <div style=\"border: solid 1px lightgrey;border-radius: 3px\">\r\n                                        <b><u><center>Event type : ${evt.type}</center></u></b>\r\n                                        <p>${evt.text}</p>\r\n                                    </div>`\r\n                    ).join()\r\n                || \"<b><u><center>Loading...</center></u></b>\"\r\n            );\r\n    };\r\n    this.node     = target;\r\n}\r\n\r\nwindow.StoreContext = StoreContext;\r\nwindow.NewsListComp = NewsListComp;\r\nexport default NewsListComp;\n\n\n// WEBPACK FOOTER //\n// ./src/example/vanilla/NewsListComp.js","module.exports = __webpack_public_path__ + \"example/vanilla/index.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/example/vanilla/index.html\n// module id = 206\n// module chunks = 1"],"sourceRoot":""}